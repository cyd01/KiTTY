# Makefile for putty under MinGW, Cygwin, or Winelib.
# Makefile for putty under MinGW, Cygwin, or Winelib.
#
# This file was created by `mkfiles.pl' from the `Recipe' file.
# DO NOT EDIT THIS FILE DIRECTLY; edit Recipe or mkfiles.pl instead.
#
# Extra options you can set:
#
#  - COMPAT=-DAUTO_WINSOCK (Windows only)
#      Causes PuTTY to assume that <windows.h> includes its own WinSock
#      header file, so that it won't try to include <winsock.h>.
#
#  - COMPAT=-DWINSOCK_TWO (Windows only)
#      Causes the PuTTY utilities to include <winsock2.h> instead of
#      <winsock.h>, except Plink which _needs_ WinSock 2 so it already
#      does this.
#
#  - COMPAT=-DNO_SECURITY (Windows only)
#      Disables use of <aclapi.h>, which is not available with some
#      development environments (such as very old versions of the
#      mingw/Cygwin GNU toolchain). This has the following effects:
#       - Pageant won't care about the local user ID of processes
#         accessing it; a version of Pageant built with this option
#         will therefore refuse to run under NT-series OSes on
#         security grounds (although it will run fine on Win95-series
#         OSes where there is no access control anyway).
#       - SSH connection sharing is disabled.
#       - There is no support for restriction of the process ACLs.
#
#  - COMPAT=-DNO_MULTIMON (Windows only)
#      Disables PuTTY's use of <multimon.h>, which is not available
#      with some development environments. This means that PuTTY's
#      full-screen mode (configurable to work on Alt-Enter) will
#      not behave usefully in a multi-monitor environment.
#
#  - COMPAT=-DNO_HTMLHELP (Windows only)
#      Disables PuTTY's use of <htmlhelp.h>, which is not available
#      with some development environments.
#
#      If you don't have this header, you may be able to use the copy
#      supplied with HTML Help Workshop.
#
#  - RCFL=-DNO_MANIFESTS (Windows only)
#      Disables inclusion of XML application manifests in the PuTTY
#      binaries. This may be necessary to build for 64-bit Windows;
#      the manifests are only included to use the XP GUI style on
#      Windows XP, and the architecture tags are a lie on 64-bit.
#
#  - COMPAT=-DNO_IPV6
#      Disables PuTTY's ability to make IPv6 connections, enabling
#      it to compile under development environments which do not
#      support IPv6 in their header files.
#
#  - COMPAT=-DNO_GSSAPI
#      Disables PuTTY's ability to use GSSAPI functions for
#      authentication and key exchange.
#
#  - COMPAT=-DSTATIC_GSSAPI
#      Causes PuTTY to try to link statically against the GSSAPI
#      library instead of the default of doing it at run time.
#
#  - COMPAT=-DMSVC4 (Windows only)
#  - RCFL=-DMSVC4
#      Makes a couple of minor changes so that PuTTY compiles using
#      MSVC 4. You will also need -DNO_SECURITY and -DNO_MULTIMON.
#
#  - COMPAT=-DNO_SECUREZEROMEMORY (Windows only)
#      Disables PuTTY's use of SecureZeroMemory(), which is missing
#      from some environments' header files.
#
#  - XFLAGS=-DDEBUG
#      Causes PuTTY to enable internal debugging.
#
#  - XFLAGS=-DMALLOC_LOG
#      Causes PuTTY to emit a file called putty_mem.log, logging every
#      memory allocation and free, so you can track memory leaks.
#
#  - XFLAGS=-DMINEFIELD (Windows only)
#      Causes PuTTY to use a custom memory allocator, similar in
#      concept to Electric Fence, in place of regular malloc(). Wastes
#      huge amounts of RAM, but should cause heap-corruption bugs to
#      show up as GPFs at the point of failure rather than appearing
#      later on as second-level damage.
#
#  - XFLAGS=-DFUZZING
#      Builds a version of PuTTY with some tweaks to make fuzz testing
#      easier: the SSH random number generator is replaced by one that
#      always returns the same thing.  Note that this makes SSH
#      completely insecure -- a FUZZING build should never be used to
#      connect to a real server.

# You can define this path to point at your tools if you need to
# TOOLPATH = c:\cygwin\bin\ # or similar, if you're running Windows
# TOOLPATH = /pkg/mingw32msvc/i386-mingw32msvc/bin/
# TOOLPATH = i686-w64-mingw32-
# make -e TOOLPATH=/usr/bin/i686-w64-mingw32- -f MAKEFILE.MINGW putty.exe
CC = $(TOOLPATH)gcc
RC = $(TOOLPATH)windres
# Uncomment the following two lines to compile under Winelib
# CC = winegcc
# RC = wrc
# You may also need to tell windres where to find include files:
# RCINC = --include-dir c:\cygwin\include\

# CFLAGS = -Wall -O2 -std=gnu99 -Wvla -D_WINDOWS -DWIN32S_COMPAT \

CFLAGS = -Wall -O2 -std=gnu99 -Wvla -D_WINDOWS -DWIN32S_COMPAT \
		-D_NO_OLDNAMES -D__USE_MINGW_ANSI_STDIO=1 -I.././ \
		-I../charset/ -I../windows/ -I../unix/ -I../crypto/ -I../proxy/ -I../ssh/ -I../terminal/ -I../utils/
LDFLAGS = -s
RCFLAGS = $(RCINC) --define WIN32=1 --define _WIN32=1 --define WINVER=0x0400 \
		-I.././ -I../charset/ -I../windows/ -I../unix/

# _WIN32_IE is required to expose identifiers that only make sense on
# systems with IE5+ installed, such as some arguments to SHGetFolderPath().
# WINVER etc perform a similar function for FlashWindowEx().
CFLAGS += -D_WIN32_IE=0x0500
#CFLAGS += -DWINVER=0x0500 -D_WIN32_WINDOWS=0x0410 -D_WIN32_WINNT=0x0500

# Extended mouse support (> 223 characters)
UTF8MOUSE_OBJS = fromucs.o slookup.o sbcsdat.o sbcs.o utf8.o

################################################################################
# BEGIN MOD_PERSO
# Ne pas oublier de commenter 2 lignes CFLAGS au-dessus (remplacé par en-dessous)
################################################################################
CFLAGS += -DWINVER=0x0501 -D_WIN32_WINDOWS=0x0410 -D_WIN32_WINNT=0x0501

# 		-DMOD_PERSO -DMOD_BACKGROUNDIMAGE -DMOD_RECONNECT -DMOD_HYPERLINK -DMOD_ZMODEM -DMOD_PROXY -DMOD_STARTBUTTON -DMOD_LAUNCHER -DMOD_SAVEDUMP -DMOD_KEYMAPPING -DMOD_TUTTY -DMOD_TUTTYCOLOR -DMOD_PORTKNOCKING -DMOD_PUTTYX -DMOD_WTS -DMOD_PRINTCLIP -DMOD_RUTTY -DMOD_ADB \


# Flag special FLJ
FLJFLAG = FLJ1

# Ajouter  -g -ggdb   a CFLAGS pour avoir plus de debug !!!

# Ajout du DEBUG
# CFLAGS += -DDEBUG

RCFLAGS += -I ../../ -DMOD_PERSO -D$(FLJFLAG)

# Flag pour éviter les crashes sur processeurs AMD => Attention, fait planter la compilation 64bits
# CFLAGS += -mms-bitfields -march=i386

CFLAGS += -DNO_SECUREZEROMEMORY -DCOVERITY -DNO_HTMLHELP
CFLAGS += -D$(FLJFLAG)
CFLAGS += 	 \
		-DMOD_WTS \
		-DMOD_PERSO \
		-DMOD_STARTBUTTON \
		-DMOD_SAVEDUMP \
		-DMOD_DISABLEALTGR \
		-DMOD_KEYMAPPING \
		-DMOD_PUTTYX \
		-DMOD_PORTKNOCKING \
		-DMOD_HYPERLINK \
		-DMOD_PRINTCLIP \
		-DMOD_LAUNCHER \
		-DMOD_RECONNECT \
		-DMOD_RUTTY \
		-DMOD_TUTTY \
		-DMOD_ADB \
		-DMOD_BACKGROUNDIMAGE \
		-DMOD_ZMODEM \
		-DMOD_PROXY \
		-DMOD_FAR2L \
		-I.././ -I../../ \
		-I../charset/ -I../windows/ -I../unix/ -I../mac/ \
		-I../macosx \
		-I../../base64 \
		-I../../bcrypt \
		-I../../md5 -I../../regex -I../../url -I../../rutty		


#		-DMOD_TUTTYCOLOR 


# Autre flag a gérer
# Ajouter  -DMOD_NOPASSWORD \ pour compiler une version sans possibilité de sauvegarder le mot de passe
# Ajouter  -DMOD_NOTRANSPARENCY \ pour compiler une version desactivant la transparence
# Ajouter  -DMOD_NOHYPERLINK \ pour compiler une version desactivant la gestion des liens hyperlink
# Ajouter  -DMOD_PORTABLE \ pour forcer le mode portable

# Autre flags pour les fichiers .o uniquement (pas au global dans CFLAGS)
# MOD_INTEGRATED_AGENT: intègre l'agent directement
# MOD_INTEGRATED_KEYGEN: intègre le key generator directement

CFLAGS_PLINK = -Wall -O2 -D_WINDOWS -DWIN32S_COMPAT \
		-DMOD_PERSO -DMOD_RECONNECT -DNO_MOD_RUTTY \
		-D_NO_OLDNAMES -DNO_HTMLHELP -I../. \
		-I../charset -I../windows -I../unix -I../mac -I.\
		-I../macosx \
		-I../../base64 -I../../bcrypt -I../../md5 -I../../regex -I../../url
################################################################################
# END MOD_PERSO
################################################################################

.SUFFIXES:

all: pageant.exe plink.exe pscp.exe psftp.exe psocks.exe putty.exe \
		puttygen.exe puttytel.exe testcrypt.exe

pageant.exe: aqsync.o be_misc.o callback.o conf.o ecc-arithmetic.o errsock.o marshal.o \
		memory.o misc.o mpint.o pageant.o pageant.res.o aes.o \
		argon2.o pubkey-ppk.o blake2.o des.o dsa.o \
		ecc-ssh.o hmac.o md5.o sshpubk.o rsa.o sha256.o \
		sha512.o sha1.o sha3.o stripctrl.o tree234.o utils.o \
		version.o wcwidth.o cryptoapi.o handle-io.o help.o \
		handle-socket.o network.o named-pipe-client.o named-pipe-server.o \
		winpageant.o agent-client.o winsecur.o winselgui.o winutils.o \
		notiming.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o load_system32_dll.o winversion.o win_strerror.o \
		kitty_commun.o kitty_crypt.o kitty_registry.o
	$(CC) -mwindows $(LDFLAGS) -o $@ -Wl,-Map,pageant.map aqsync.o \
		be_misc.o callback.o conf.o ecc-arithmetic.o errsock.o marshal.o \
		memory.o misc.o mpint.o pageant.o pageant.res.o aes.o \
		argon2.o pubkey-ppk.o blake2.o des.o dsa.o \
		ecc-ssh.o hmac.o md5.o sshpubk.o rsa.o sha256.o \
		sha512.o sha1.o sha3.o stripctrl.o tree234.o utils.o \
		version.o wcwidth.o cryptoapi.o handle-io.o help.o \
		handle-socket.o network.o named-pipe-client.o named-pipe-server.o \
		winpageant.o agent-client.o winsecur.o winselgui.o winutils.o \
		notiming.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o load_system32_dll.o winversion.o win_strerror.o \
		kitty_commun.o kitty_crypt.o kitty_registry.o \
		../../bcrypt/bcrypt.a ../../mini/mini.a \
		-ladvapi32 -lcomdlg32 -lgdi32 -limm32 -lole32 -lshell32 \
		-luser32

plink.exe: agentf.o aqsync.o \
		be_all_s_plink.o \
		be_misc.o callback.o clicons.o \
		cmdline.o conf.o console.o cproxy.o ecc-arithmetic.o errsock.o \
		ldisc_plink.o \
		logging.o mainchan.o marshal.o memory.o misc.o dup_mb_to_wc.o \
		mpint.o noterm.o nullplug.o pgssapi.o pinger.o plink.res.o \
		portfwd.o proxy.o raw.o rlogin.o sessprep.o settings.o ssh.o \
		bpp1.o censor1.o connection1.o \
		connection1-client.o login1.o bpp2.o bpp-bare.o \
		censor2.o connection2.o connection2-client.o \
		kex2-client.o transient-hostkey-cache.o transport2.o \
		userauth2-client.o aes.o arcfour.o argon2.o pubkey-ppk.o \
		blake2.o blowfish.o chacha20-poly1305.o common.o crc32.o \
		crc-attack-detector.o des.o diffie-hellman.o dsa.o ecc-ssh.o gssc.o \
		hmac.o mac.o md5.o prng.o sshpubk.o sshrand.o \
		rsa.o sha256.o sha512.o sha1.o sha3.o sharing.o \
		sshutils.o verstring.o zlib.o stripctrl.o supdup.o \
		telnet.o timing.o tree234.o utils.o version.o wcwidth.o \
		wildcard.o cryptoapi.o cliloop.o wincons.o defaults.o \
		gss.o handle-io.o handle-socket.o network.o \
		nohelp.o noise.o no-jump-list.o named-pipe-client.o named-pipe-server.o \
		agent-client.o plink.o winproxy.o winsecur.o winselcli.o \
		winser.o winshare.o winstore.o wintime.o winucs.o winx11.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o is_console_handle.o load_system32_dll.o open_for_write_would_lose_data.o platform_get_x_display.o win_strerror.o \
		x11fwd.o \
		adb.o kitty_registry.o kitty_commun.o kitty_proxy.o kitty_ssh.o kitty_store.o kitty_tools.o
	$(CC) $(LDFLAGS) -o $@ -Wl,-Map,plink.map agentf.o aqsync.o \
		be_all_s_plink.o \
		be_misc.o callback.o clicons.o cmdline.o conf.o \
		console.o cproxy.o ecc-arithmetic.o errsock.o \
		ldisc_plink.o \
		logging.o \
		mainchan.o marshal.o memory.o misc.o dup_mb_to_wc.o mpint.o \
		noterm.o nullplug.o pgssapi.o pinger.o plink.res.o portfwd.o \
		proxy.o raw.o rlogin.o sessprep.o settings.o ssh.o bpp1.o \
		censor1.o connection1.o connection1-client.o \
		login1.o bpp2.o bpp-bare.o censor2.o \
		connection2.o connection2-client.o kex2-client.o \
		transient-hostkey-cache.o transport2.o userauth2-client.o aes.o \
		arcfour.o argon2.o pubkey-ppk.o blake2.o blowfish.o \
		chacha20-poly1305.o common.o crc32.o crc-attack-detector.o des.o diffie-hellman.o \
		dsa.o ecc-ssh.o gssc.o hmac.o mac.o md5.o \
		prng.o sshpubk.o sshrand.o rsa.o sha256.o sha512.o \
		sha1.o sha3.o sharing.o sshutils.o verstring.o \
		zlib.o stripctrl.o supdup.o telnet.o timing.o tree234.o \
		utils.o version.o wcwidth.o wildcard.o cryptoapi.o \
		cliloop.o wincons.o defaults.o gss.o handle-io.o \
		handle-socket.o network.o nohelp.o \
		noise.o no-jump-list.o named-pipe-client.o named-pipe-server.o agent-client.o \
		plink.o winproxy.o winsecur.o winselcli.o winser.o \
		winshare.o winstore.o wintime.o winucs.o winx11.o x11fwd.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o is_console_handle.o load_system32_dll.o open_for_write_would_lose_data.o platform_get_x_display.o win_strerror.o \
		adb.o kitty_registry.o kitty_commun.o kitty_proxy.o kitty_ssh.o kitty_store.o kitty_tools.o \
		../../base64/base64.a ../../bcrypt/bcrypt.a ../../mini/mini.a \
		-ladvapi32 -lcomdlg32 -lgdi32 -limm32 -lole32 -lshell32 \
		-luser32 \
		-lwsock32

pscp.exe: agentf.o aqsync.o be_misc.o be_ssh.o callback.o clicons.o \
		cmdline.o conf.o console.o cproxy.o ecc-arithmetic.o errsock.o \
		logging.o mainchan.o marshal.o memory.o misc.o dup_mb_to_wc.o \
		mpint.o nullplug.o pgssapi.o pinger.o portfwd.o proxy.o \
		pscp.o pscp.res.o psftpcommon.o settings.o sftp.o \
		sftpcommon.o ssh.o bpp1.o censor1.o connection1.o \
		connection1-client.o login1.o bpp2.o bpp-bare.o \
		censor2.o connection2.o connection2-client.o \
		kex2-client.o transient-hostkey-cache.o transport2.o \
		userauth2-client.o aes.o arcfour.o argon2.o pubkey-ppk.o \
		blake2.o blowfish.o chacha20-poly1305.o common.o crc32.o \
		crc-attack-detector.o des.o diffie-hellman.o dsa.o ecc-ssh.o gssc.o \
		hmac.o mac.o md5.o prng.o sshpubk.o sshrand.o \
		rsa.o sha256.o sha512.o sha1.o sha3.o sharing.o \
		sshutils.o verstring.o zlib.o stripctrl.o timing.o \
		tree234.o utils.o version.o wcwidth.o wildcard.o cryptoapi.o \
		cliloop.o wincons.o defaults.o gss.o handle-io.o \
		handle-socket.o network.o nohelp.o \
		noise.o no-jump-list.o named-pipe-client.o named-pipe-server.o agent-client.o \
		winproxy.o winsecur.o winselcli.o winsftp.o winshare.o \
		winstore.o wintime.o winucs.o x11fwd.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o is_console_handle.o load_system32_dll.o open_for_write_would_lose_data.o platform_get_x_display.o win_strerror.o \
		kitty_commun.o kitty_ssh.o kitty_tools.o kitty_registry.o kitty_store.o
	$(CC) $(LDFLAGS) -o $@ -Wl,-Map,pscp.map agentf.o aqsync.o be_misc.o \
		be_ssh.o callback.o clicons.o cmdline.o conf.o console.o \
		cproxy.o ecc-arithmetic.o errsock.o logging.o mainchan.o marshal.o \
		memory.o misc.o dup_mb_to_wc.o mpint.o nullplug.o pgssapi.o \
		pinger.o portfwd.o proxy.o pscp.o pscp.res.o psftpcommon.o \
		settings.o sftp.o sftpcommon.o ssh.o bpp1.o censor1.o \
		connection1.o connection1-client.o login1.o \
		bpp2.o bpp-bare.o censor2.o connection2.o \
		connection2-client.o kex2-client.o transient-hostkey-cache.o \
		transport2.o userauth2-client.o aes.o arcfour.o \
		argon2.o pubkey-ppk.o blake2.o blowfish.o chacha20-poly1305.o \
		common.o crc32.o crc-attack-detector.o des.o diffie-hellman.o dsa.o \
		ecc-ssh.o gssc.o hmac.o mac.o md5.o prng.o \
		sshpubk.o sshrand.o rsa.o sha256.o sha512.o sha1.o \
		sha3.o sharing.o sshutils.o verstring.o zlib.o \
		stripctrl.o timing.o tree234.o utils.o version.o wcwidth.o \
		wildcard.o cryptoapi.o cliloop.o wincons.o defaults.o \
		gss.o handle-io.o handle-socket.o network.o \
		nohelp.o noise.o no-jump-list.o named-pipe-client.o named-pipe-server.o \
		agent-client.o winproxy.o winsecur.o winselcli.o winsftp.o \
		winshare.o winstore.o wintime.o winucs.o x11fwd.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o is_console_handle.o load_system32_dll.o open_for_write_would_lose_data.o platform_get_x_display.o win_strerror.o \
		kitty_commun.o kitty_ssh.o kitty_tools.o kitty_registry.o kitty_store.o \
		../../base64/base64.a ../../bcrypt/bcrypt.a ../../mini/mini.a \
		-ladvapi32 -lcomdlg32 -lgdi32 -limm32 \
		-lole32 -lshell32 -luser32 \
		-lwsock32

psftp.exe: agentf.o aqsync.o be_misc.o be_ssh.o callback.o clicons.o \
		cmdline.o conf.o console.o cproxy.o ecc-arithmetic.o errsock.o \
		logging.o mainchan.o marshal.o memory.o misc.o dup_mb_to_wc.o \
		mpint.o nullplug.o pgssapi.o pinger.o portfwd.o proxy.o \
		psftp.o psftp.res.o psftpcommon.o settings.o sftp.o \
		sftpcommon.o ssh.o bpp1.o censor1.o connection1.o \
		connection1-client.o login1.o bpp2.o bpp-bare.o \
		censor2.o connection2.o connection2-client.o \
		kex2-client.o transient-hostkey-cache.o transport2.o \
		userauth2-client.o aes.o arcfour.o argon2.o pubkey-ppk.o \
		blake2.o blowfish.o chacha20-poly1305.o common.o crc32.o \
		crc-attack-detector.o des.o diffie-hellman.o dsa.o ecc-ssh.o gssc.o \
		hmac.o mac.o md5.o prng.o sshpubk.o sshrand.o \
		rsa.o sha256.o sha512.o sha1.o sha3.o sharing.o \
		sshutils.o verstring.o zlib.o stripctrl.o timing.o \
		tree234.o utils.o version.o wcwidth.o wildcard.o cryptoapi.o \
		cliloop.o wincons.o defaults.o gss.o handle-io.o \
		handle-socket.o network.o nohelp.o \
		noise.o no-jump-list.o named-pipe-client.o named-pipe-server.o agent-client.o \
		winproxy.o winsecur.o winselcli.o winsftp.o winshare.o \
		winstore.o wintime.o winucs.o x11fwd.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o is_console_handle.o load_system32_dll.o open_for_write_would_lose_data.o platform_get_x_display.o win_strerror.o \
		kitty_commun.o kitty_ssh.o kitty_tools.o kitty_registry.o kitty_store.o
	$(CC) $(LDFLAGS) -o $@ -Wl,-Map,psftp.map agentf.o aqsync.o \
		be_misc.o be_ssh.o callback.o clicons.o cmdline.o conf.o \
		console.o cproxy.o ecc-arithmetic.o errsock.o logging.o mainchan.o \
		marshal.o memory.o misc.o dup_mb_to_wc.o mpint.o nullplug.o \
		pgssapi.o pinger.o portfwd.o proxy.o psftp.o psftp.res.o \
		psftpcommon.o settings.o sftp.o sftpcommon.o ssh.o bpp1.o \
		censor1.o connection1.o connection1-client.o \
		login1.o bpp2.o bpp-bare.o censor2.o \
		connection2.o connection2-client.o kex2-client.o \
		transient-hostkey-cache.o transport2.o userauth2-client.o aes.o \
		arcfour.o argon2.o pubkey-ppk.o blake2.o blowfish.o \
		chacha20-poly1305.o common.o crc32.o crc-attack-detector.o des.o diffie-hellman.o \
		dsa.o ecc-ssh.o gssc.o hmac.o mac.o md5.o \
		prng.o sshpubk.o sshrand.o rsa.o sha256.o sha512.o \
		sha1.o sha3.o sharing.o sshutils.o verstring.o \
		zlib.o stripctrl.o timing.o tree234.o utils.o version.o \
		wcwidth.o wildcard.o cryptoapi.o cliloop.o wincons.o \
		defaults.o gss.o handle-io.o handle-socket.o \
		network.o nohelp.o noise.o no-jump-list.o \
		named-pipe-client.o named-pipe-server.o agent-client.o winproxy.o winsecur.o \
		winselcli.o winsftp.o winshare.o winstore.o wintime.o \
		winucs.o x11fwd.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o is_console_handle.o load_system32_dll.o open_for_write_would_lose_data.o platform_get_x_display.o win_strerror.o \
		-ladvapi32 -lcomdlg32 -lgdi32 -limm32 \
		-lole32 -lshell32 -luser32 \
		kitty_commun.o kitty_ssh.o kitty_tools.o kitty_registry.o kitty_store.o \
		../../base64/base64.a ../../bcrypt/bcrypt.a ../../mini/mini.a \
		-lwsock32

psocks.exe: be_misc.o callback.o conf.o console.o errsock.o logging.o \
		marshal.o memory.o misc.o nocproxy.o norand.o portfwd.o \
		proxy.o psocks.o sshutils.o stripctrl.o ltime.o timing.o \
		tree234.o utils.o version.o wcwidth.o cliloop.o wincons.o \
		handle-io.o handle-socket.o network.o \
		nohelp.o winproxy.o winselcli.o winsocks.o
	$(CC) $(LDFLAGS) -o $@ -Wl,-Map,psocks.map be_misc.o callback.o \
		conf.o console.o errsock.o logging.o marshal.o memory.o \
		misc.o nocproxy.o norand.o portfwd.o proxy.o psocks.o \
		sshutils.o stripctrl.o ltime.o timing.o tree234.o utils.o \
		version.o wcwidth.o cliloop.o wincons.o handle-io.o \
		handle-socket.o network.o nohelp.o \
		kitty_commun.o kitty_tools.o \
		winproxy.o winselcli.o winsocks.o -ladvapi32 -lcomdlg32 \
		-lgdi32 -limm32 -lole32 -lshell32 -luser32 \
		../../mini/mini.a 

putty.exe: agentf.o aqsync.o be_all_s.o be_misc.o callback.o cmdline.o \
		conf.o config.o cproxy.o dialog.o ecc-arithmetic.o errsock.o ldisc.o \
		logging.o mainchan.o marshal.o memory.o bidi.o misc.o \
		dup_mb_to_wc.o mpint.o nullplug.o pgssapi.o pinger.o portfwd.o \
		proxy.o putty.res.o raw.o rlogin.o sessprep.o settings.o \
		sizetip.o smallprimes.o ssh.o bpp1.o censor1.o connection1.o \
		connection1-client.o login1.o bpp2.o bpp-bare.o \
		censor2.o connection2.o connection2-client.o \
		kex2-client.o transient-hostkey-cache.o transport2.o \
		userauth2-client.o aes.o arcfour.o argon2.o pubkey-ppk.o \
		blake2.o blowfish.o chacha20-poly1305.o common.o crc32.o \
		crc-attack-detector.o des.o diffie-hellman.o dsa.o ecc-ssh.o gssc.o \
		hmac.o mac.o md5.o prng.o sshpubk.o sshrand.o \
		rsa.o sha256.o sha512.o sha1.o sha3.o sharing.o \
		sshutils.o verstring.o zlib.o stripctrl.o supdup.o \
		telnet.o terminal.o timing.o tree234.o utils.o version.o \
		wcwidth.o wildcard.o cryptoapi.o wincfg.o controls.o defaults.o \
		windlg.o window.o gss.o handle-io.o help.o handle-socket.o \
		jump-list.o network.o noise.o named-pipe-client.o \
		named-pipe-server.o agent-client.o printing.o winproxy.o winsecur.o \
		winselgui.o winser.o winshare.o winstore.o wintime.o \
		winucs.o winutils.o winx11.o x11fwd.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o load_system32_dll.o open_for_write_would_lose_data.o platform_get_x_display.o winversion.o win_strerror.o \
		adb.o \
		cencode.o cdecode.o \
		kitty.o kitty_commun.o kitty_crypt.o kitty_image.o kitty_proxy.o kitty_registry.o kitty_ssh.o \
		kitty_store.o kitty_tools.o kitty_win.o \
		urlhack.o pageant_integrated.o winpageant_integrated.o winputtygen_integrated.o winpzmodem.o \
		import.o rsag.o cryptodsa.o prime.o ecdsa.o bcrypt.o pockle.o primecandidate.o millerrabin.o mpunsafe.o \
		void.o $(UTF8MOUSE_OBJS)
	$(CC) -mwindows $(LDFLAGS) -o $@ -Wl,-Map,putty.map agentf.o \
		aqsync.o be_all_s.o be_misc.o callback.o cmdline.o conf.o \
		config.o cproxy.o dialog.o ecc-arithmetic.o errsock.o ldisc.o logging.o \
		mainchan.o marshal.o memory.o bidi.o misc.o dup_mb_to_wc.o \
		mpint.o nullplug.o pgssapi.o pinger.o portfwd.o proxy.o \
		putty.res.o raw.o rlogin.o sessprep.o settings.o sizetip.o smallprimes.o \
		ssh.o bpp1.o censor1.o connection1.o \
		connection1-client.o login1.o bpp2.o bpp-bare.o \
		censor2.o connection2.o connection2-client.o \
		kex2-client.o transient-hostkey-cache.o transport2.o \
		userauth2-client.o aes.o arcfour.o argon2.o pubkey-ppk.o \
		blake2.o blowfish.o chacha20-poly1305.o common.o crc32.o \
		crc-attack-detector.o des.o diffie-hellman.o dsa.o ecc-ssh.o gssc.o \
		hmac.o mac.o md5.o prng.o sshpubk.o sshrand.o \
		rsa.o sha256.o sha512.o sha1.o sha3.o sharing.o \
		sshutils.o verstring.o zlib.o stripctrl.o supdup.o \
		telnet.o terminal.o timing.o tree234.o utils.o version.o \
		wcwidth.o wildcard.o cryptoapi.o wincfg.o controls.o defaults.o \
		windlg.o window.o gss.o handle-io.o help.o handle-socket.o \
		jump-list.o network.o noise.o named-pipe-client.o \
		named-pipe-server.o agent-client.o printing.o winproxy.o winsecur.o \
		winselgui.o winser.o winshare.o winstore.o wintime.o \
		winucs.o winutils.o winx11.o x11fwd.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o load_system32_dll.o open_for_write_would_lose_data.o platform_get_x_display.o winversion.o win_strerror.o \
		adb.o \
		cencode.o cdecode.o \
		kitty.o kitty_commun.o kitty_crypt.o kitty_image.o kitty_proxy.o kitty_registry.o kitty_ssh.o \
		kitty_store.o kitty_tools.o kitty_win.o \
		urlhack.o pageant_integrated.o winpageant_integrated.o winputtygen_integrated.o winpzmodem.o \
		import.o rsag.o cryptodsa.o prime.o ecdsa.o bcrypt.o pockle.o primecandidate.o millerrabin.o mpunsafe.o \
		void.o $(UTF8MOUSE_OBJS) \
		../../base64/base64.a ../../bcrypt/bcrypt.a ../../blocnote/notepad.a ../../jpeg/libjpeg.a \
		../../md5/MD5check.a ../../mini/mini.a ../../regex/libregex.a \
		-ladvapi32 -lcomdlg32 -lgdi32 -limm32 -lpsapi -lole32 -lshell32 \
		-luser32 -lwsock32  -lwtsapi32 \
		#-lcrypt32 \
		#/c/Windows/system32/crypt32.dll /c/windows/system32/ncrypt.dll \
		# -lcomctl32 -lwinmm -lwinspool -lole32 
		
puttygen.exe: conf.o ecc-arithmetic.o import.o marshal.o memory.o millerrabin.o misc.o \
		mpint.o mpunsafe.o notiming.o pockle.o primecandidate.o \
		puttygen.res.o smallprimes.o aes.o argon2.o \
		pubkey-ppk.o bcrypt.o blake2.o blowfish.o des.o \
		dsa.o cryptodsa.o ecc-ssh.o ecdsa.o hmac.o md5.o \
		prime.o prng.o sshpubk.o sshrand.o rsa.o rsag.o \
		sha256.o sha512.o sha1.o sha3.o stripctrl.o \
		tree234.o utils.o version.o wcwidth.o controls.o help.o \
		noise.o no-jump-list.o puttygen.o \
		winsecur.o winstore.o wintime.o winutils.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o load_system32_dll.o win_strerror.o \
		kitty_commun.o kitty_crypt.o kitty_registry.o kitty_keygen.o kitty_store.o kitty_tools.o
	$(CC) -mwindows $(LDFLAGS) -o $@ -Wl,-Map,puttygen.map conf.o ecc-arithmetic.o \
		import.o marshal.o memory.o millerrabin.o misc.o mpint.o \
		mpunsafe.o notiming.o pockle.o primecandidate.o \
		puttygen.res.o smallprimes.o aes.o argon2.o \
		pubkey-ppk.o bcrypt.o blake2.o blowfish.o des.o \
		dsa.o cryptodsa.o ecc-ssh.o ecdsa.o hmac.o md5.o \
		prime.o prng.o sshpubk.o sshrand.o rsa.o rsag.o \
		sha256.o sha512.o sha1.o sha3.o stripctrl.o \
		tree234.o utils.o version.o wcwidth.o controls.o help.o \
		noise.o no-jump-list.o puttygen.o \
		winsecur.o winstore.o wintime.o winutils.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o load_system32_dll.o win_strerror.o \
		kitty_commun.o kitty_crypt.o kitty_registry.o kitty_keygen.o kitty_store.o kitty_tools.o \
		../../bcrypt/bcrypt.a ../../mini/mini.a \
		-ladvapi32 \
		-lcomdlg32 -lgdi32 -limm32 -lole32 -lshell32 -luser32

puttytel.exe: be_misc.o be_nos_s.o callback.o cmdline.o conf.o config.o \
		dialog.o errsock.o ldisc.o logging.o marshal.o memory.o \
		bidi.o misc.o dup_mb_to_wc.o nocproxy.o nogss.o norand.o \
		pinger.o proxy.o puttytel.res.o raw.o rlogin.o sessprep.o \
		settings.o sizetip.o stripctrl.o supdup.o telnet.o \
		terminal.o timing.o tree234.o utils.o version.o wcwidth.o \
		wincfg.o controls.o defaults.o windlg.o window.o handle-io.o \
		help.o handle-socket.o jump-list.o network.o \
		printing.o winproxy.o winsecur.o winselgui.o winser.o \
		winstore.o wintime.o winucs.o winutils.o
	$(CC) -mwindows $(LDFLAGS) -o $@ -Wl,-Map,puttytel.map be_misc.o \
		be_nos_s.o callback.o cmdline.o conf.o config.o dialog.o \
		errsock.o ldisc.o logging.o marshal.o memory.o bidi.o \
		misc.o dup_mb_to_wc.o nocproxy.o nogss.o norand.o pinger.o \
		proxy.o puttytel.res.o raw.o rlogin.o sessprep.o settings.o \
		sizetip.o stripctrl.o supdup.o telnet.o terminal.o timing.o \
		tree234.o utils.o version.o wcwidth.o wincfg.o controls.o \
		defaults.o windlg.o window.o handle-io.o help.o handle-socket.o \
		jump-list.o network.o printing.o \
		winproxy.o winsecur.o winselgui.o winser.o winstore.o \
		wintime.o winucs.o winutils.o \
		-ladvapi32 -lcomdlg32 -lgdi32 \
		-limm32 -lole32 -lshell32 -luser32

testcrypt.exe: ecc-arithmetic.o marshal.o memory.o millerrabin.o mpint.o mpunsafe.o \
		pockle.o primecandidate.o smallprimes.o aes.o arcfour.o \
		argon2.o pubkey-ppk.o blake2.o blowfish.o chacha20-poly1305.o \
		crc32.o crc-attack-detector.o des.o diffie-hellman.o dsa.o cryptodsa.o \
		ecc-ssh.o ecdsa.o hmac.o md5.o prime.o prng.o \
		sshpubk.o rsa.o rsag.o sha256.o sha512.o sha1.o \
		sha3.o testcrypt.o tree234.o utils.o
	$(CC) $(LDFLAGS) -o $@ -Wl,-Map,testcrypt.map ecc-arithmetic.o marshal.o \
		memory.o millerrabin.o mpint.o mpunsafe.o pockle.o \
		primecandidate.o smallprimes.o aes.o arcfour.o \
		argon2.o pubkey-ppk.o blake2.o blowfish.o chacha20-poly1305.o \
		crc32.o crc-attack-detector.o des.o diffie-hellman.o dsa.o cryptodsa.o \
		ecc-ssh.o ecdsa.o hmac.o md5.o prime.o prng.o \
		sshpubk.o rsa.o rsag.o sha256.o sha512.o sha1.o \
		sha3.o testcrypt.o tree234.o utils.o

agentf.o: ../ssh/agentf.c ../putty.h ../ssh.h ../pageant.h ../ssh/channel.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/agentf.c

aqsync.o: ../aqsync.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../aqsync.c

be_all_s.o: ../be_all_s.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../be_all_s.c

be_misc.o: ../be_misc.c ../putty.h ../network.h ../defs.h ../puttyps.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../be_misc.c

be_none.o: ../be_none.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../be_none.c

be_nos_s.o: ../be_nos_s.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../be_nos_s.c

be_ssh.o: ../be_ssh.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../be_ssh.c

callback.o: ../callback.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../callback.c

cgtest.o: ../cgtest.c ../cmdgen.c ../putty.h ../ssh.h ../sshkeygen.h \
		../mpint.h ../defs.h ../puttyps.h ../network.h ../misc.h \
		../marshal.h ../ssh/signal-list.h ../puttymem.h ../tree234.h \
		../ssh/ttymode-list.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../cgtest.c

clicons.o: ../clicons.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../clicons.c

cmdgen.o: ../cmdgen.c ../putty.h ../ssh.h ../sshkeygen.h ../mpint.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../cmdgen.c

cmdline.o: ../cmdline.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../cmdline.c -DMASTER_PASSWORD=`cat ../../masterpassword.txt`

conf.o: ../utils/conf.c ../tree234.h ../putty.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/conf.c

config.o: ../config.c ../putty.h ../dialog.h ../storage.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../config.c

console.o: ../console.c ../putty.h ../misc.h ../console.h ../defs.h \
		../puttyps.h ../network.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../windows/winstuff.h ../unix/unix.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../console.c
	
cproxy.o: ../proxy/cproxy.c ../putty.h ../ssh.h ../network.h ../proxy/proxy.h \
		../marshal.h ../defs.h ../puttyps.h ../misc.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../proxy/cproxy.c

dialog.o: ../dialog.c ../putty.h ../dialog.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../dialog.c

ecc-arithmetic.o: ../crypto/ecc-arithmetic.c ../ssh.h ../mpint.h ../crypto/ecc.h ../puttymem.h ../tree234.h \
		../network.h ../misc.h ../ssh/ttymode-list.h ../defs.h \
		../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/ecc-arithmetic.c

errsock.o: ../errsock.c ../tree234.h ../putty.h ../network.h ../defs.h \
		../puttyps.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../errsock.c

fromucs.o: ../charset/fromucs.c ../charset/charset.h ../charset/internal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../charset/fromucs.c

fuzzterm.o: ../fuzzterm.c ../putty.h ../dialog.h ../terminal/terminal.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../tree234.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../fuzzterm.c

gtkapp.o: ../unix/gtkapp.c ../putty.h ../unix/gtkmisc.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/gtkapp.c

gtkask.o: ../unix/gtkask.c ../defs.h ../unix/gtkfont.h ../unix/gtkcompat.h \
		../unix/gtkmisc.h ../putty.h ../ssh.h ../misc.h ../puttyps.h \
		../network.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../tree234.h ../ssh/ttymode-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/gtkask.c

gtkcfg.o: ../unix/gtkcfg.c ../putty.h ../dialog.h ../storage.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/gtkcfg.c

gtkcols.o: ../unix/gtkcols.c ../defs.h ../unix/gtkcompat.h ../unix/gtkcols.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/gtkcols.c

gtkcomm.o: ../unix/gtkcomm.c ../putty.h ../terminal/terminal.h ../unix/gtkcompat.h \
		../unix/gtkfont.h ../unix/gtkmisc.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../tree234.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/gtkcomm.c

gtkdlg.o: ../unix/gtkdlg.c ../putty.h ../unix/gtkcompat.h ../unix/gtkcols.h \
		../unix/gtkfont.h ../unix/gtkmisc.h ../unix/x11misc.h \
		../storage.h ../dialog.h ../tree234.h ../licence.h ../ssh.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/gtkdlg.c

gtkfont.o: ../unix/gtkfont.c ../putty.h ../unix/gtkfont.h \
		../unix/gtkcompat.h ../unix/gtkmisc.h ../tree234.h \
		../unix/x11misc.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/gtkfont.c

gtkmain.o: ../unix/gtkmain.c ../putty.h ../terminal/terminal.h ../unix/gtkcompat.h \
		../unix/gtkfont.h ../unix/gtkmisc.h ../unix/x11misc.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../tree234.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/gtkmain.c

gtkmisc.o: ../unix/gtkmisc.c ../putty.h ../unix/gtkcompat.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/gtkmisc.c

gtkwin.o: ../unix/gtkwin.c ../putty.h ../terminal/terminal.h ../unix/gtkcompat.h \
		../unix/gtkfont.h ../unix/gtkmisc.h ../unix/x11misc.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../tree234.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/gtkwin.c

import.o: ../import.c ../putty.h ../ssh.h ../mpint.h ../misc.h ../defs.h \
		../puttyps.h ../network.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../import.c

ldisc.o: ../ldisc.c ../putty.h ../terminal/terminal.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../tree234.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ldisc.c

localenc.o: ../charset/localenc.c ../charset/charset.h ../charset/internal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../charset/localenc.c

logging.o: ../logging.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../logging.c

macenc.o: ../charset/macenc.c ../charset/charset.h ../charset/internal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../charset/macenc.c

mainchan.o: ../ssh/mainchan.c ../putty.h ../ssh.h ../ssh/ppl.h ../ssh/channel.h \
		../ssh/signal-list.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../puttymem.h ../tree234.h \
		../ssh/ttymode-list.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/mainchan.c

marshal.o: ../utils/marshal.c ../marshal.h ../misc.h ../defs.h ../puttymem.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/marshal.c

memory.o: ../utils/memory.c ../defs.h ../puttymem.h ../misc.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/memory.c

millerrabin.o: ../keygen/millerrabin.c ../ssh.h ../sshkeygen.h ../mpint.h \
		../keygen/mpunsafe.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../keygen/millerrabin.c
	
mimeenc.o: ../charset/mimeenc.c ../charset/charset.h ../charset/internal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../charset/mimeenc.c

bidi.o: ../terminal/bidi.c ../putty.h ../misc.h ../defs.h ../puttyps.h \
		../network.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../windows/winstuff.h ../unix/unix.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../terminal/bidi.c

misc.o: ../utils/misc.c ../defs.h ../putty.h ../misc.h ../puttyps.h ../network.h \
		../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../windows/winstuff.h ../unix/unix.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/misc.c

dup_mb_to_wc.o: ../utils/dup_mb_to_wc.c ../putty.h ../misc.h ../defs.h ../puttyps.h \
		../network.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../windows/winstuff.h ../unix/unix.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/dup_mb_to_wc.c

mpint.o: ../crypto/mpint.c ../defs.h ../misc.h ../puttymem.h ../mpint.h \
		../crypto/mpint_i.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/mpint.c

mpunsafe.o: ../keygen/mpunsafe.c ../defs.h ../misc.h ../puttymem.h ../mpint.h \
		../crypto/mpint_i.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../keygen/mpunsafe.c

nocmdline.o: ../nocmdline.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../nocmdline.c

nocproxy.o: ../proxy/nocproxy.c ../putty.h ../network.h ../proxy/proxy.h ../defs.h \
		../puttyps.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../proxy/nocproxy.c

nogss.o: ../nogss.c ../putty.h ../defs.h ../puttyps.h ../network.h ../misc.h \
		../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../nogss.c

norand.o: ../norand.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../norand.c

noterm.o: ../stubs/noterm.c ../putty.h ../terminal/terminal.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../tree234.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../stubs/noterm.c

notiming.o: ../stubs/notiming.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../stubs/notiming.c

nullplug.o: ../stubs/nullplug.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../stubs/nullplug.c

osxlaunch.o: ../unix/osxlaunch.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/osxlaunch.c

pageant.o: ../pageant.c ../putty.h ../mpint.h ../ssh.h ../sshcr.h \
		../pageant.h ../defs.h ../puttyps.h ../network.h ../misc.h \
		../marshal.h ../ssh/signal-list.h ../puttymem.h ../tree234.h \
		../ssh/ttymode-list.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../pageant.c

pageant.res.o: ../windows/pageant.rc ../windows/rcstuff.h \
		../windows/pageant-rc.h ../windows/help.rc2 \
		../windows/pageant.ico ../windows/pageants.ico \
		../windows/version.rc2 ../windows/pageant.mft \
		../windows/putty-rc.h ../version.h ../licence.h
	$(RC) $(RCFL) $(RCFLAGS) ../windows/pageant.rc -o pageant.res.o

pgssapi.o: ../ssh/pgssapi.c ../putty.h ../ssh/pgssapi.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/pgssapi.c

pinger.o: ../pinger.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../pinger.c

plink.res.o: ../windows/plink.rc ../windows/rcstuff.h ../windows/putty.ico \
		../windows/version.rc2 ../version.h ../licence.h
	$(RC) $(RCFL) $(RCFLAGS) ../windows/plink.rc -o plink.res.o

pockle.o: ../keygen/pockle.c ../ssh.h ../sshkeygen.h ../mpint.h ../keygen/mpunsafe.h \
		../tree234.h ../puttymem.h ../network.h ../misc.h \
		../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../keygen/pockle.c

portfwd.o: ../ssh/portfwd.c ../putty.h ../ssh.h ../ssh/channel.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/portfwd.c

primecandidate.o: ../keygen/primecandidate.c ../ssh.h ../mpint.h ../keygen/mpunsafe.h \
		../sshkeygen.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../keygen/primecandidate.c

procnet.o: ../unix/procnet.c ../misc.h ../defs.h ../puttymem.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/procnet.c

proxy.o: ../proxy/proxy.c ../putty.h ../network.h ../proxy/proxy.h ../defs.h \
		../puttyps.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../proxy/proxy.c

pscp.o: ../pscp.c ../putty.h ../psftp.h ../ssh.h ../ssh/sftp.h ../storage.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../pscp.c

pscp.res.o: ../windows/pscp.rc ../windows/rcstuff.h ../windows/pscp.ico \
		../windows/version.rc2 ../version.h ../licence.h
	$(RC) $(RCFL) $(RCFLAGS) ../windows/pscp.rc -o pscp.res.o

psftp.o: ../psftp.c ../putty.h ../psftp.h ../storage.h ../ssh.h ../ssh/sftp.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../psftp.c

psftp.res.o: ../windows/psftp.rc ../windows/rcstuff.h ../windows/pscp.ico \
		../windows/version.rc2 ../version.h ../licence.h
	$(RC) $(RCFL) $(RCFLAGS) ../windows/psftp.rc -o psftp.res.o

psftpcommon.o: ../psftpcommon.c ../putty.h ../ssh/sftp.h ../psftp.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../psftpcommon.c

psocks.o: ../psocks.c ../putty.h ../misc.h ../ssh.h ../ssh/channel.h ../psocks.h \
		../defs.h ../puttyps.h ../network.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../psocks.c

putty.res.o: ../windows/putty.rc ../windows/rcstuff.h ../windows/help.rc2 \
		../windows/putty-common.rc2 ../windows/putty.mft \
		../windows/putty-rc.h ../windows/putty.ico \
		../windows/puttycfg.ico ../windows/version.rc2 ../version.h \
		../licence.h \
		../../blocnote/notepad.rc ../windows/kitty.mft
	$(RC) $(RCFL) $(RCFLAGS) ../windows/putty.rc -o putty.res.o -DMOD_INTEGRATED_AGENT -DMOD_INTEGRATED_KEYGEN

puttygen.res.o: ../windows/puttygen.rc ../windows/rcstuff.h \
		../windows/help.rc2 ../windows/puttygen.ico \
		../windows/version.rc2 ../windows/puttygen.mft \
		../windows/putty-rc.h ../version.h ../licence.h
	$(RC) $(RCFL) $(RCFLAGS) ../windows/puttygen.rc -o puttygen.res.o -DMOD_INTEGRATED_KEYGEN

puttytel.res.o: ../windows/puttytel.rc ../windows/rcstuff.h \
		../windows/help.rc2 ../windows/putty-common.rc2 \
		../windows/puttytel.mft ../windows/putty-rc.h \
		../windows/putty.ico ../windows/puttycfg.ico \
		../windows/version.rc2 ../version.h ../licence.h
	$(RC) $(RCFL) $(RCFLAGS) ../windows/puttytel.rc -o puttytel.res.o

raw.o: ../otherbackends/raw.c ../putty.h ../defs.h ../puttyps.h ../network.h ../misc.h \
		../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../otherbackends/raw.c

rlogin.o: ../otherbackends/rlogin.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../otherbackends/rlogin.c

sbcs.o: ../charset/sbcs.c ../charset/charset.h ../charset/internal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../charset/sbcs.c

sbcsdat.o: ../charset/sbcsdat.c ../charset/charset.h ../charset/internal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../charset/sbcsdat.c

scpserver.o: ../ssh/scpserver.c ../putty.h ../ssh.h ../sshcr.h ../ssh/channel.h \
		../sftp.h ../defs.h ../puttyps.h ../network.h ../misc.h \
		../marshal.h ../ssh/signal-list.h ../puttymem.h ../tree234.h \
		../ssh/ttymode-list.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/scpserver.c

sesschan.o: ../ssh/sesschan.c ../putty.h ../ssh.h ../ssh/channel.h ../ssh/server.h \
		../sftp.h ../ssh/signal-list.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../puttymem.h \
		../tree234.h ../ssh/ttymode-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/sesschan.c

sessprep.o: ../utils/sessprep.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/sessprep.c

settings.o: ../settings.c ../putty.h ../storage.h ../ssh/gssc.h ../ssh/gss.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../ssh/pgssapi.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../settings.c -DMASTER_PASSWORD=`cat ../../masterpassword.txt`

sftp.o: ../ssh/sftp.c ../misc.h ../tree234.h ../ssh/sftp.h ../defs.h ../puttymem.h \
		../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/sftp.c

sftpcommon.o: ../ssh/sftpcommon.c ../misc.h ../ssh/sftp.h ../defs.h ../puttymem.h \
		../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/sftpcommon.c

sftpserver.o: ../ssh/sftpserver.c ../putty.h ../ssh.h ../ssh/sftp.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/sftpserver.c

sizetip.o: ../windows/sizetip.c ../putty.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/sizetip.c

slookup.o: ../charset/slookup.c ../charset/charset.h ../charset/internal.h \
		../charset/enum.c ../charset/sbcsdat.c ../charset/utf8.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../charset/slookup.c

smallprimes.o: ../keygen/smallprimes.c ../ssh.h ../sshkeygen.h ../puttymem.h \
		../tree234.h ../network.h ../misc.h ../ssh/ttymode-list.h \
		../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../keygen/smallprimes.c

ssh.o: ../ssh/ssh.c ../putty.h ../pageant.h ../tree234.h ../storage.h \
		../marshal.h ../ssh.h ../sshcr.h ../ssh/bpp.h ../ssh/ppl.h \
		../ssh/channel.h ../ssh/gssc.h ../ssh/gss.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../ssh/signal-list.h ../puttymem.h \
		../ssh/ttymode-list.h ../ssh/pgssapi.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/ssh.c

bpp1.o: ../ssh/bpp1.c ../putty.h ../ssh.h ../ssh/bpp.h ../sshcr.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/bpp1.c

censor1.o: ../ssh/censor1.c ../putty.h ../ssh.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/censor1.c

connection1.o: ../ssh/connection1.c ../putty.h ../ssh.h ../ssh/bpp.h \
		../ssh/ppl.h ../ssh/channel.h ../sshcr.h ../ssh/connection1.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/connection1.c

connection1-client.o: ../ssh/connection1-client.c ../putty.h ../ssh.h \
		../ssh/bpp.h ../ssh/ppl.h ../ssh/channel.h ../sshcr.h \
		../ssh/connection1.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../tree234.h ../ssh/ttymode-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/connection1-client.c

ssh1connection-server.o: ../ssh1connection-server.c ../putty.h ../ssh.h \
		../ssh/bpp.h ../ssh/ppl.h ../ssh/channel.h ../sshcr.h \
		../ssh/connection1.h ../ssh/server.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh1connection-server.c

login1.o: ../ssh/login1.c ../putty.h ../ssh.h ../mpint.h ../ssh/bpp.h \
		../ssh/ppl.h ../sshcr.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../tree234.h ../ssh/ttymode-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/login1.c

login1-server.o: ../ssh/login1-server.c ../putty.h ../mpint.h ../ssh.h \
		../ssh/bpp.h ../ssh/ppl.h ../sshcr.h ../ssh/server.h \
		../sshkeygen.h ../defs.h ../puttyps.h ../network.h ../misc.h \
		../marshal.h ../ssh/signal-list.h ../puttymem.h ../tree234.h \
		../ssh/ttymode-list.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/login1-server.c

bpp2.o: ../ssh/bpp2.c ../putty.h ../ssh.h ../ssh/bpp.h ../sshcr.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/bpp2.c

bpp-bare.o: ../ssh/bpp-bare.c ../putty.h ../ssh.h ../ssh/bpp.h ../sshcr.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/bpp-bare.c

censor2.o: ../ssh/censor2.c ../putty.h ../ssh.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/censor2.c

connection2.o: ../ssh/connection2.c ../putty.h ../ssh.h ../ssh/bpp.h \
		../ssh/ppl.h ../ssh/channel.h ../sshcr.h ../ssh/connection2.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/connection2.c

connection2-client.o: ../ssh/connection2-client.c ../putty.h ../ssh.h \
		../ssh/bpp.h ../ssh/ppl.h ../ssh/channel.h ../sshcr.h \
		../ssh/connection2.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../tree234.h ../ssh/ttymode-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/connection2-client.c

connection2-server.o: ../ssh/connection2-server.c ../putty.h ../ssh.h \
		../ssh/bpp.h ../ssh/ppl.h ../ssh/channel.h ../sshcr.h \
		../ssh/connection2.h ../ssh/server.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/connection2-server.c

kex2-client.o: ../ssh/kex2-client.c ../putty.h ../ssh.h ../ssh/bpp.h \
		../ssh/ppl.h ../sshcr.h ../storage.h ../ssh/transport2.h \
		../mpint.h ../defs.h ../puttyps.h ../network.h ../misc.h \
		../marshal.h ../ssh/signal-list.h ../puttymem.h ../tree234.h \
		../ssh/ttymode-list.h ../ssh/gssc.h ../ssh/gss.h \
		../windows/winstuff.h ../unix/unix.h ../ssh/pgssapi.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/kex2-client.c

kex2-server.o: ../ssh/kex2-server.c ../putty.h ../ssh.h ../ssh/bpp.h \
		../ssh/ppl.h ../sshcr.h ../ssh/server.h ../sshkeygen.h \
		../storage.h ../ssh/transport2.h ../mpint.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../ssh/gssc.h ../ssh/gss.h ../windows/winstuff.h \
		../unix/unix.h ../ssh/pgssapi.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/kex2-server.c

transient-hostkey-cache.o: ../ssh/transient-hostkey-cache.c ../putty.h ../ssh.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/transient-hostkey-cache.c

transport2.o: ../ssh/transport2.c ../putty.h ../ssh.h ../ssh/bpp.h \
		../ssh/ppl.h ../sshcr.h ../ssh/server.h ../storage.h \
		../ssh/transport2.h ../mpint.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../tree234.h ../ssh/ttymode-list.h ../ssh/gssc.h \
		../ssh/gss.h ../windows/winstuff.h ../unix/unix.h \
		../ssh/pgssapi.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/transport2.c

userauth2-client.o: ../ssh/userauth2-client.c ../putty.h ../ssh.h ../ssh/bpp.h \
		../ssh/ppl.h ../sshcr.h ../ssh/gssc.h ../ssh/gss.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../ssh/pgssapi.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/userauth2-client.c

userauth2-server.o: ../ssh/userauth2-server.c ../putty.h ../ssh.h \
		../ssh/bpp.h ../ssh/ppl.h ../sshcr.h ../ssh/server.h \
		../ssh/gssc.h ../ssh/gss.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../tree234.h ../ssh/ttymode-list.h ../ssh/pgssapi.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/userauth2-server.c

aes.o: ../crypto/aes.c ../ssh.h ../crypto/mpint_i.h ../puttymem.h ../tree234.h \
		../network.h ../misc.h ../ssh/ttymode-list.h ../defs.h \
		../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/aes.c

arcfour.o: ../crypto/arcfour.c ../ssh.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/arcfour.c

argon2.o: ../crypto/argon2.c ../putty.h ../ssh.h ../marshal.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../ssh/signal-list.h \
		../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/argon2.c

pubkey-ppk.o: ../crypto/pubkey-ppk.c ../ssh.h ../puttymem.h ../tree234.h \
		../network.h ../misc.h ../ssh/ttymode-list.h ../defs.h \
		../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/pubkey-ppk.c

bcrypt.o: ../crypto/bcrypt.c ../ssh.h ../crypto/blowfish.h ../puttymem.h \
		../tree234.h ../network.h ../misc.h ../ssh/ttymode-list.h \
		../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/bcrypt.c

blake2.o: ../crypto/blake2.c ../ssh.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/blake2.c

blowfish.o: ../crypto/blowfish.c ../ssh.h ../crypto/blowfish.h ../puttymem.h ../tree234.h \
		../network.h ../misc.h ../ssh/ttymode-list.h ../defs.h \
		../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/blowfish.c

chacha20-poly1305.o: ../crypto/chacha20-poly1305.c ../ssh.h ../crypto/mpint_i.h ../puttymem.h ../tree234.h \
		../network.h ../misc.h ../ssh/ttymode-list.h ../defs.h \
		../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/chacha20-poly1305.c

common.o: ../ssh/common.c ../putty.h ../mpint.h ../ssh.h ../ssh/bpp.h \
		../ssh/ppl.h ../ssh/channel.h ../ssh/ttymode-list.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/common.c

crc32.o: ../crypto/crc32.c ../ssh.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/crc32.c

crc-attack-detector.o: ../ssh/crc-attack-detector.c ../misc.h ../ssh.h ../defs.h ../puttymem.h \
		../marshal.h ../tree234.h ../network.h ../ssh/ttymode-list.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/crc-attack-detector.c

des.o: ../crypto/des.c ../ssh.h ../crypto/mpint_i.h ../puttymem.h ../tree234.h \
		../network.h ../misc.h ../ssh/ttymode-list.h ../defs.h \
		../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/des.c

diffie-hellman.o: ../crypto/diffie-hellman.c ../ssh.h ../misc.h ../mpint.h ../puttymem.h ../tree234.h \
		../network.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/diffie-hellman.c

dsa.o: ../crypto/dsa.c ../ssh.h ../mpint.h ../misc.h ../puttymem.h \
		../tree234.h ../network.h ../ssh/ttymode-list.h ../defs.h \
		../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/dsa.c

cryptodsa.o: ../keygen/dsa.c ../misc.h ../ssh.h ../sshkeygen.h ../mpint.h \
		../defs.h ../puttymem.h ../marshal.h ../tree234.h \
		../network.h ../ssh/ttymode-list.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -o cryptodsa.o -c ../keygen/dsa.c

ecc-ssh.o: ../crypto/ecc-ssh.c ../ssh.h ../mpint.h ../crypto/ecc.h ../puttymem.h \
		../tree234.h ../network.h ../misc.h ../ssh/ttymode-list.h \
		../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/ecc-ssh.c

ecdsa.o: ../keygen/ecdsa.c ../ssh.h ../sshkeygen.h ../mpint.h ../puttymem.h \
		../tree234.h ../network.h ../misc.h ../ssh/ttymode-list.h \
		../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../keygen/ecdsa.c

gssc.o: ../ssh/gssc.c ../putty.h ../ssh/gssc.h ../misc.h ../defs.h \
		../puttyps.h ../network.h ../marshal.h ../ssh/signal-list.h \
		../ssh/pgssapi.h ../ssh/gss.h ../puttymem.h ../windows/winstuff.h \
		../unix/unix.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/gssc.c

hmac.o: ../crypto/hmac.c ../ssh.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/hmac.c

mac.o: ../crypto/mac.c ../ssh.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/mac.c

md5.o: ../crypto/md5.c ../ssh.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/md5.c

prime.o: ../keygen/prime.c ../ssh.h ../mpint.h ../keygen/mpunsafe.h ../sshkeygen.h \
		../puttymem.h ../tree234.h ../network.h ../misc.h \
		../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../keygen/prime.c

prng.o: ../crypto/prng.c ../putty.h ../ssh.h ../crypto/mpint_i.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/prng.c

sshpubk.o: ../sshpubk.c ../putty.h ../mpint.h ../ssh.h ../misc.h ../defs.h \
		../puttyps.h ../network.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../sshpubk.c

sshrand.o: ../sshrand.c ../putty.h ../ssh.h ../storage.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../sshrand.c

rsa.o: ../crypto/rsa.c ../ssh.h ../mpint.h ../misc.h ../puttymem.h \
		../tree234.h ../network.h ../ssh/ttymode-list.h ../defs.h \
		../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/rsa.c

rsag.o: ../keygen/rsa.c ../ssh.h ../sshkeygen.h ../mpint.h ../puttymem.h \
		../tree234.h ../network.h ../misc.h ../ssh/ttymode-list.h \
		../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -o rsag.o -c ../keygen/rsa.c

sshserver.o: ../ssh/server.c ../putty.h ../ssh.h ../ssh/bpp.h ../ssh/ppl.h \
		../ssh/channel.h ../ssh/server.h ../ssh/gssc.h ../ssh/gss.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../ssh/pgssapi.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/server.c

sha256.o: ../crypto/sha256.c ../ssh.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/sha256.c

sha512.o: ../crypto/sha512.c ../ssh.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/sha512.c

sha1.o: ../crypto/sha1.c ../ssh.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/sha1.c

sha3.o: ../crypto/sha3.c ../ssh.h ../puttymem.h ../tree234.h ../network.h \
		../misc.h ../ssh/ttymode-list.h ../defs.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../crypto/sha3.c

sharing.o: ../ssh/sharing.c ../putty.h ../tree234.h ../ssh.h ../sshcr.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/sharing.c

sshutils.o: ../utils/sshutils.c ../putty.h ../ssh.h ../ssh/channel.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/sshutils.c

verstring.o: ../ssh/verstring.c ../putty.h ../ssh.h ../ssh/bpp.h ../sshcr.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/verstring.c

zlib.o: ../ssh/zlib.c ../defs.h ../ssh.h ../puttymem.h ../tree234.h \
		../network.h ../misc.h ../ssh/ttymode-list.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/zlib.c

stripctrl.o: ../utils/stripctrl.c ../putty.h ../terminal/terminal.h ../misc.h ../marshal.h \
		../defs.h ../puttyps.h ../network.h ../ssh/signal-list.h \
		../tree234.h ../puttymem.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/stripctrl.c

supdup.o: ../otherbackends/supdup.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../otherbackends/supdup.c

telnet.o: ../otherbackends/telnet.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../otherbackends/telnet.c

terminal.o: ../terminal/terminal.c ../putty.h ../terminal/terminal.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../tree234.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../terminal/terminal.c

testcrypt.o: ../test/testcrypt.c ../defs.h ../ssh.h ../sshkeygen.h ../misc.h \
		../mpint.h ../crypto/ecc.h ../test/testcrypt.h ../puttymem.h \
		../tree234.h ../network.h ../ssh/ttymode-list.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../test/testcrypt.c

testsc.o: ../test/testsc.c ../defs.h ../putty.h ../ssh.h ../misc.h ../mpint.h \
		../crypto/ecc.h ../puttyps.h ../network.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../test/testsc.c

testzlib.o: ../test/testzlib.c ../defs.h ../ssh.h ../puttymem.h ../tree234.h \
		../network.h ../misc.h ../ssh/ttymode-list.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../test/testzlib.c

ltime.o: ../utils/ltime.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/ltime.c

timing.o: ../timing.c ../putty.h ../tree234.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../timing.c

toucs.o: ../charset/toucs.c ../charset/charset.h ../charset/internal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../charset/toucs.c

tree234.o: ../utils/tree234.c ../defs.h ../tree234.h ../puttymem.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/tree234.c

utf8.o: ../charset/utf8.c ../charset/charset.h ../charset/internal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../charset/utf8.c

utils.o: ../utils/utils.c ../defs.h ../misc.h ../ssh.h ../puttymem.h ../marshal.h \
		../tree234.h ../network.h ../ssh/ttymode-list.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/utils.c

ux_x11.o: ../unix/ux_x11.c ../putty.h ../ssh.h ../network.h ../defs.h \
		../puttyps.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/ux_x11.c

uxagentc.o: ../unix/uxagentc.c ../putty.h ../misc.h ../tree234.h \
		../puttymem.h ../defs.h ../puttyps.h ../network.h \
		../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxagentc.c

uxagentsock.o: ../unix/uxagentsock.c ../putty.h ../ssh.h ../misc.h \
		../pageant.h ../defs.h ../puttyps.h ../network.h \
		../marshal.h ../ssh/signal-list.h ../puttymem.h ../tree234.h \
		../ssh/ttymode-list.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxagentsock.c

uxcfg.o: ../unix/uxcfg.c ../putty.h ../dialog.h ../storage.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxcfg.c

uxcliloop.o: ../unix/uxcliloop.c ../putty.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxcliloop.c

uxcons.o: ../unix/uxcons.c ../putty.h ../storage.h ../ssh.h ../console.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxcons.c

uxfdsock.o: ../unix/uxfdsock.c ../tree234.h ../putty.h ../network.h \
		../defs.h ../puttyps.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxfdsock.c

uxgen.o: ../unix/uxgen.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxgen.c

uxgss.o: ../unix/uxgss.c ../putty.h ../ssh/pgssapi.h ../ssh/gss.h ../ssh/gssc.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxgss.c

uxmisc.o: ../unix/uxmisc.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxmisc.c

uxnet.o: ../unix/uxnet.c ../putty.h ../network.h ../tree234.h ../defs.h \
		../puttyps.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxnet.c

uxnogtk.o: ../unix/uxnogtk.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxnogtk.c

uxnoise.o: ../unix/uxnoise.c ../putty.h ../ssh.h ../storage.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxnoise.c

uxpeer.o: ../unix/uxpeer.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxpeer.c

uxpgnt.o: ../unix/uxpgnt.c ../putty.h ../ssh.h ../misc.h ../pageant.h \
		../defs.h ../puttyps.h ../network.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxpgnt.c

uxplink.o: ../unix/uxplink.c ../putty.h ../ssh.h ../storage.h ../tree234.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxplink.c

uxpoll.o: ../unix/uxpoll.c ../putty.h ../tree234.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxpoll.c

uxprint.o: ../unix/uxprint.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxprint.c

uxproxy.o: ../unix/uxproxy.c ../tree234.h ../putty.h ../network.h ../proxy/proxy.h \
		../defs.h ../puttyps.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxproxy.c

uxpsusan.o: ../unix/uxpsusan.c ../putty.h ../mpint.h ../ssh.h ../ssh/server.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxpsusan.c

uxpterm.o: ../unix/uxpterm.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxpterm.c

uxpty.o: ../unix/uxpty.c ../putty.h ../ssh.h ../ssh/server.h ../tree234.h \
		../ssh/ttymode-list.h ../ssh/signal-list.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../puttymem.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxpty.c

uxputty.o: ../unix/uxputty.c ../putty.h ../ssh.h ../storage.h \
		../unix/gtkcompat.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../tree234.h ../ssh/ttymode-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxputty.c

uxsel.o: ../unix/uxsel.c ../putty.h ../tree234.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxsel.c

uxser.o: ../unix/uxser.c ../putty.h ../tree234.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxser.c

uxserver.o: ../unix/uxserver.c ../putty.h ../mpint.h ../ssh.h ../ssh/server.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxserver.c

uxsftp.o: ../unix/uxsftp.c ../putty.h ../ssh.h ../psftp.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxsftp.c

uxsftpserver.o: ../unix/uxsftpserver.c ../putty.h ../ssh.h ../ssh/server.h \
		../sftp.h ../tree234.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../ssh/ttymode-list.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxsftpserver.c

uxshare.o: ../unix/uxshare.c ../tree234.h ../putty.h ../network.h ../proxy/proxy.h \
		../ssh.h ../defs.h ../puttyps.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxshare.c

uxsignal.o: ../unix/uxsignal.c ../defs.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxsignal.c

uxsocks.o: ../unix/uxsocks.c ../putty.h ../ssh.h ../psocks.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxsocks.c

uxstore.o: ../unix/uxstore.c ../putty.h ../storage.h ../tree234.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxstore.c

uxucs.o: ../unix/uxucs.c ../putty.h ../charset/charset.h ../terminal/terminal.h \
		../misc.h ../defs.h ../puttyps.h ../network.h ../marshal.h \
		../ssh/signal-list.h ../tree234.h ../puttymem.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxucs.c

uxutils.o: ../unix/uxutils.c ../putty.h ../ssh.h ../unix/uxutils.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/uxutils.c

version.o: ../utils/version.c ../putty.h ../ssh.h ../version.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/version.c

wcwidth.o: ../utils/wcwidth.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/wcwidth.c

wildcard.o: ../utils/wildcard.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../utils/wildcard.c

cryptoapi.o: ../windows/utils/cryptoapi.c ../putty.h ../ssh.h ../windows/cryptoapi.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/cryptoapi.c

wincfg.o: ../windows/config.c ../putty.h ../dialog.h ../storage.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/config.c -o wincfg.o

cliloop.o: ../windows/cliloop.c ../putty.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/cliloop.c

wincons.o: ../windows/console.c ../putty.h ../storage.h ../ssh.h \
		../console.h ../defs.h ../puttyps.h ../network.h ../misc.h \
		../marshal.h ../ssh/signal-list.h ../puttymem.h ../tree234.h \
		../ssh/ttymode-list.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/console.c -o wincons.o

controls.o: ../windows/controls.c ../putty.h ../misc.h ../dialog.h ../defs.h \
		../puttyps.h ../network.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../windows/winstuff.h ../unix/unix.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/controls.c

defaults.o: ../windows/utils/defaults.c ../putty.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/defaults.c

dll_hijacking_protection.o: ../windows/utils/dll_hijacking_protection.c ../putty.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/dll_hijacking_protection.c

escape_registry_key.o: ../windows/utils/escape_registry_key.c ../putty.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/escape_registry_key.c

filename.o: ../windows/utils/filename.c ../putty.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/filename.c

fontspec.o: ../windows/utils/fontspec.c ../putty.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/fontspec.c

get_username.o: ../windows/utils/get_username.c ../putty.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/get_username.c

is_console_handle.o: ../windows/utils/is_console_handle.c ../putty.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/is_console_handle.c

load_system32_dll.o: ../windows/utils/load_system32_dll.c ../putty.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/load_system32_dll.c

open_for_write_would_lose_data.o: ../windows/utils/open_for_write_would_lose_data.c ../putty.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/open_for_write_would_lose_data.c

platform_get_x_display.o: ../windows/utils/platform_get_x_display.c ../putty.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/platform_get_x_display.c

smemclr.o: ../windows/utils/smemclr.c ../defs.h ../misc.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/smemclr.c

strtoumax.o: ../windows/utils/strtoumax.c ../defs.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/strtoumax.c

winversion.o: ../windows/utils/version.c ../putty.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/version.c -o winversion.o

win_strerror.o: ../windows/utils/win_strerror.c ../putty.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/utils/win_strerror.c

windlg.o: ../windows/dialog.c ../putty.h ../ssh.h ../windows/putty-rc.h \
		../windows/winseat.h ../storage.h ../dialog.h ../licence.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/dialog.c -o windlg.o

window.o: ../windows/window.c ../putty.h ../terminal/terminal.h ../storage.h \
		../windows/putty-rc.h ../windows/winsecur.h \
		../windows/winseat.h ../tree234.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/window.c \
	-DBUILD_TIME=`date +'"%d/%m/%Y-%H:%M:%S(%Z)"'` \
	-DBUILD_VERSION=`cat version_major.txt` \
	-DBUILD_SUBVERSION=`cat version_minor.txt` \
	-DMASTER_PASSWORD=`cat ../../masterpassword.txt` \
	-DMOD_INTEGRATED_AGENT -DMOD_INTEGRATED_KEYGEN

gss.o: ../windows/gss.c ../putty.h ../ssh/pgssapi.h ../ssh/gss.h \
		../ssh/gssc.h ../misc.h ../defs.h ../puttyps.h ../network.h \
		../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../windows/winstuff.h ../unix/unix.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/gss.c

handle-io.o: ../windows/handle-io.c ../putty.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/handle-io.c

help.o: ../windows/help.c ../putty.h ../windows/putty-rc.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/help.c

handle-socket.o: ../windows/handle-socket.c ../tree234.h ../putty.h ../network.h \
		../defs.h ../puttyps.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/handle-socket.c

jump-list.o: ../windows/jump-list.c ../putty.h ../storage.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/jump-list.c

network.o: ../windows/network.c ../putty.h ../network.h ../tree234.h ../ssh.h \
		../defs.h ../puttyps.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/network.c

nohelp.o: ../windows/nohelp.c ../putty.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/nohelp.c

noise.o: ../windows/noise.c ../putty.h ../ssh.h ../storage.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/noise.c

no-jump-list.o: ../windows/no-jump-list.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/no-jump-list.c

named-pipe-client.o: ../windows/named-pipe-client.c ../tree234.h ../putty.h ../network.h \
		../proxy/proxy.h ../ssh.h ../windows/winsecur.h ../defs.h \
		../puttyps.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../ssh/ttymode-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/named-pipe-client.c

named-pipe-server.o: ../windows/named-pipe-server.c ../tree234.h ../putty.h ../network.h \
		../proxy/proxy.h ../ssh.h ../windows/winsecur.h ../defs.h \
		../puttyps.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../ssh/ttymode-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/named-pipe-server.c

puttygen.o: ../windows/puttygen.c ../putty.h ../ssh.h ../sshkeygen.h \
		../licence.h ../windows/winsecur.h ../windows/puttygen-rc.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/puttygen.c

winpageant.o: ../windows/pageant.c ../putty.h ../ssh.h ../misc.h ../tree234.h \
		../windows/winsecur.h ../windows/cryptoapi.h ../pageant.h \
		../licence.h ../windows/pageant-rc.h ../defs.h ../puttyps.h \
		../network.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../ssh/ttymode-list.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/pageant.c -o winpageant.o

agent-client.o: ../windows/agent-client.c ../putty.h ../pageant.h \
		../windows/winsecur.h ../windows/cryptoapi.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/agent-client.c

plink.o: ../windows/plink.c ../putty.h ../storage.h ../tree234.h \
		../windows/winsecur.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/plink.c -DMASTER_PASSWORD=`cat ../../masterpassword.txt`

printing.o: ../windows/printing.c ../putty.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/printing.c

winproxy.o: ../windows/winproxy.c ../tree234.h ../putty.h ../network.h \
		../proxy/proxy.h ../defs.h ../puttyps.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winproxy.c

winsecur.o: ../windows/winsecur.c ../putty.h ../windows/winsecur.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winsecur.c

winselcli.o: ../windows/winselcli.c ../putty.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winselcli.c

winselgui.o: ../windows/winselgui.c ../putty.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winselgui.c

winser.o: ../windows/winser.c ../putty.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winser.c

winsftp.o: ../windows/winsftp.c ../putty.h ../psftp.h ../ssh.h \
		../windows/winsecur.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../tree234.h ../ssh/ttymode-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winsftp.c -DMASTER_PASSWORD=`cat ../../masterpassword.txt`

winshare.o: ../windows/winshare.c ../tree234.h ../putty.h ../network.h \
		../proxy/proxy.h ../ssh.h ../windows/cryptoapi.h \
		../windows/winsecur.h ../ssh/nosharing.c ../defs.h ../puttyps.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../ssh/ttymode-list.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winshare.c

winsocks.o: ../windows/winsocks.c ../putty.h ../ssh.h ../psocks.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winsocks.c

winstore.o: ../windows/winstore.c ../putty.h ../storage.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winstore.c

wintime.o: ../windows/wintime.c ../putty.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../windows/winstuff.h ../unix/unix.h ../puttymem.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/wintime.c

winucs.o: ../windows/winucs.c ../putty.h ../terminal/terminal.h ../misc.h ../defs.h \
		../puttyps.h ../network.h ../marshal.h ../ssh/signal-list.h \
		../tree234.h ../puttymem.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winucs.c

winutils.o: ../windows/winutils.c ../putty.h ../misc.h ../defs.h \
		../puttyps.h ../network.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../windows/winstuff.h ../unix/unix.h \
		../tree234.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winutils.c

winx11.o: ../windows/winx11.c ../putty.h ../ssh.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../tree234.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../windows/winx11.c

x11fwd.o: ../ssh/x11fwd.c ../putty.h ../ssh.h ../ssh/channel.h ../tree234.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../puttymem.h ../ssh/ttymode-list.h \
		../windows/winstuff.h ../unix/unix.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../ssh/x11fwd.c

x11misc.o: ../unix/x11misc.c ../putty.h ../unix/x11misc.h ../defs.h \
		../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../tree234.h ../windows/help.h \
		../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/x11misc.c

xenc.o: ../charset/xenc.c ../charset/charset.h ../charset/internal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../charset/xenc.c

xkeysym.o: ../unix/xkeysym.c ../misc.h ../defs.h ../puttymem.h ../marshal.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/xkeysym.c

xpmptcfg.o: ../unix/xpmptcfg.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/xpmptcfg.c

xpmpterm.o: ../unix/xpmpterm.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/xpmpterm.c

xpmpucfg.o: ../unix/xpmpucfg.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/xpmpucfg.c

xpmputty.o: ../unix/xpmputty.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../unix/xpmputty.c


FORCE:

################################################################################
# BEGIN MOD_PERSO
################################################################################
be_all_s_plink.o: ../be_all_s.c ../putty.h ../puttyps.h ../network.h ../misc.h \
		../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS_PLINK) $(XFLAGS) -o be_all_s_plink.o -c ../be_all_s.c

ldisc_plink.o: ../ldisc.c ../putty.h ../terminal/terminal.h ../defs.h ../puttyps.h \
		../network.h ../misc.h ../tree234.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS_PLINK) $(XFLAGS) -o ldisc_plink.o -c ../ldisc.c
	
pageant_integrated.o: ../pageant.c ../putty.h ../mpint.h ../ssh.h ../sshcr.h \
		../pageant.h ../defs.h ../puttyps.h ../network.h ../misc.h \
		../marshal.h ../ssh/signal-list.h ../puttymem.h ../tree234.h \
		../ssh/ttymode-list.h ../windows/winstuff.h ../unix/unix.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -o pageant_integrated.o -c ../pageant.c -DMOD_INTEGRATED_AGENT

settings_nohyperlink.o: ../settings.c ../putty.h ../storage.h ../puttyps.h ../network.h \
		../misc.h ../windows/winstuff.h \
		../unix/unix.h ../puttymem.h ../tree234.h \
		../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -o settings_nohyperlink.o -c ../settings.c -DMOD_NOHYPERLINK \
	-DMASTER_PASSWORD=`cat ../../masterpassword.txt`

winputtygen_integrated.o: ../windows/puttygen.c ../putty.h ../ssh.h ../licence.h \
		../windows/winsecur.h ../defs.h ../puttyps.h ../network.h \
		../misc.h ../marshal.h ../ssh/signal-list.h ../puttymem.h \
		../tree234.h ../ssh/ttymode-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -o winputtygen_integrated.o -c ../windows/puttygen.c -DMOD_INTEGRATED_KEYGEN

winpageant_integrated.o: ../windows/pageant.c ../putty.h ../ssh.h ../misc.h ../tree234.h \
		../windows/winsecur.h ../pageant.h ../licence.h ../defs.h \
		../puttyps.h ../network.h ../marshal.h ../ssh/signal-list.h \
		../puttymem.h ../ssh/ttymode-list.h ../windows/winstuff.h \
		../unix/unix.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -o winpageant_integrated.o -c ../windows/pageant.c -DMASTER_PASSWORD=`cat ../../masterpassword.txt` -DMOD_INTEGRATED_AGENT

adb.o: ../putty.h ../../adb/adb.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../../adb/adb.c -I../../adb -I../../

cencode.o: ../../far2l/cencode.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../../far2l/cencode.c -I../../far2l -I../../

cdecode.o: ../../far2l/cdecode.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../../far2l/cdecode.c -I../../far2l -I../../

kitty.o: ../../kitty.c ../../kitty.h ../../kitty_savedump.c ../../kitty_launcher.c ../../kitty_launcher.h ../windows/window.c  ../../kitty_ini.h ../../kitty_help.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty.c \
	-DBUILD_TIME=`date +'"%d/%m/%Y-%H:%M:%S(%Z)"'` \
	-DBUILD_VERSION=`cat version_major.txt` \
	-DBUILD_SUBVERSION=`cat version_minor.txt` \
	-DMASTER_PASSWORD=`cat ../../masterpassword.txt`

kitty_portable.o: ../../kitty.c ../../kitty.h ../../kitty_savedump.c ../../kitty_launcher.c ../../kitty_launcher.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -o kitty_portable.o -c ../../kitty.c \
	-DMOD_PORTABLE \
	-DBUILD_TIME=`date +'"%d/%m/%Y-%H:%M:%S(%Z)"'` \
	-DBUILD_VERSION=`cat version_major.txt` \
	-DBUILD_SUBVERSION=`cat version_minor.txt` \
	-DMASTER_PASSWORD=`cat ../../masterpassword.txt`

kitty_nohyperlink.o: ../../kitty.c ../../kitty.h ../../kitty_savedump.c ../../kitty_launcher.c ../../kitty_launcher.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -o kitty_nohyperlink.o -c ../../kitty.c \
	-DMOD_NOHYPERLINK \
	-DBUILD_TIME=`date +'"%d/%m/%Y-%H:%M:%S(%Z)"'` \
	-DBUILD_VERSION=`cat version_major.txt` \
	-DBUILD_SUBVERSION=`cat version_minor.txt` \
	-DMASTER_PASSWORD=`cat ../../masterpassword.txt`

kitty_commun.o: ../../kitty_commun.c ../../kitty_commun.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_commun.c

kitty_commun_portable.o: ../../kitty_commun.c ../../kitty_commun.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -DMOD_PORTABLE -o kitty_commun_portable.o -c ../../kitty_commun.c

kitty_crypt.o: ../../kitty_crypt.c ../../kitty_crypt.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -DMASTER_PASSWORD=`cat ../../masterpassword.txt` -c ../../kitty_crypt.c

kitty_image.o: ../../kitty_image.c
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_image.c 

kitty_iv.o: ../../kitty_iv.c ../../kitty_iv.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_iv.c

kitty_keygen.o: ../../kitty_keygen.c
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_keygen.c

kitty_launcher.o: ../../kitty_launcher.c
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_launcher.c

kitty_proxy.o: ../../kitty_proxy.c ../../kitty_proxy.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_proxy.c

kitty_regex.o: ../../kitty_regex.c ../../kitty_regex.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_regex.c

kitty_registry.o: ../../kitty_registry.c ../../kitty_registry.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_registry.c

kitty_ssh.o: ../../kitty_ssh.c ../../kitty_ssh.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_ssh.c

kitty_store.o: ../../kitty_store.c ../../kitty_store.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_store.c

kitty_tools.o: ../../kitty_tools.c ../../kitty_tools.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_tools.c

kitty_win.o: ../../kitty_win.c ../../kitty_win.h
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../kitty_win.c

urlhack.o: ../../url/urlhack.c ../../url/urlhack.h \
		../puttymem.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -c ../../url/urlhack.c -DEXTERN_REGEXLIB

urlhack_nohyperlink.o: ../../url/urlhack.c ../../url/urlhack.h \
		../puttymem.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -o urlhack_nohyperlink.o -c ../../url/urlhack.c \
	-DMOD_NOHYPERLINK

void.o: ../../void.c
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../void.c

window_notrans.o: ../windows/window.c ../putty.h ../terminal/terminal.h ../storage.h \
		../windows/putty-rc.h ../windows/winsecur.h ../tree234.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -o window_notrans.o -c ../windows/window.c \
	-DMOD_NOTRANSPARENCY \
	-DBUILD_TIME=`date +'"%d/%m/%Y-%H:%M:%S(%Z)"'` \
	-DBUILD_VERSION=`cat version_major.txt` \
	-DBUILD_SUBVERSION=`cat version_minor.txt` \
	-DMASTER_PASSWORD=`cat ../../masterpassword.txt` \
	-DMOD_INTEGRATED_AGENT -DMOD_INTEGRATED_KEYGEN

window_nohyperlink.o: ../windows/window.c ../putty.h ../terminal/terminal.h ../storage.h \
		../windows/putty-rc.h ../puttyps.h ../network.h ../misc.h \
		../tree234.h ../windows/winstuff.h ../macosx/osx.h \
		../macosx/osx.h ../unix/unix.h ../puttymem.h \
		../windows/help.h ../charset/charset.h \
		../../kitty.c ../../kitty_launcher.c ../../kitty_image.c ../../kitty_crypt.c ../../kitty_savedump.c
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -o window_nohyperlink.o -c ../windows/window.c \
	-DMOD_NOHYPERLINK \
	-DBUILD_TIME=`date +'"%d/%m/%Y-%H:%M:%S(%Z)"'` \
	-DBUILD_VERSION=`cat version_major.txt` \
	-DBUILD_SUBVERSION=`cat version_minor.txt` \
	-DMASTER_PASSWORD=`cat ../../masterpassword.txt`

window_portable.o: ../windows/window.c ../putty.h ../terminal/terminal.h ../storage.h \
		../windows/putty-rc.h ../windows/winsecur.h ../tree234.h \
		../defs.h ../puttyps.h ../network.h ../misc.h ../marshal.h \
		../ssh/signal-list.h ../windows/winstuff.h ../unix/unix.h \
		../puttymem.h ../windows/help.h ../charset/charset.h
	$(CC) $(COMPAT) $(CFLAGS) $(XFLAGS) -o window_portable.o -c ../windows/window.c \
	-DBUILD_TIME=`date +'"%d/%m/%Y-%H:%M:%S(%Z)"'` \
	-DMOD_PORTABLE \
	-DBUILD_VERSION=`cat version_major.txt` \
	-DBUILD_SUBVERSION=`cat version_minor.txt` \
	-DMASTER_PASSWORD=`cat ../../masterpassword.txt` \
	-DMOD_INTEGRATED_AGENT -DMOD_INTEGRATED_KEYGEN

winpzmodem.o: ../../zmodem/winpzmodem.c
	$(CC) $(COMPAT) $(XFLAGS) $(CFLAGS) -c ../../zmodem/winpzmodem.c

kitty_dll.res.o: ../../kitty_dll.rc
	windres ../../kitty_dll.rc kitty_dll.res.o

kitty.dll: ../../kitty_dll.c kitty_dll.res.o
	$(CPP) -shared -o kitty.dll kitty_dll.res.o ../../kitty_dll.c \
	-Wl,--whole-archive ../../base64/base64.a ../../regex/libregex.a ../../bcrypt/bcrypt.a ../../jpeg/libjpeg.a ../../md5/MD5check.a ../../blocnote/notepad.a ../../mini/mini.a -Wl,--no-whole-archive \
	-DBUILD_DLL -static-libgcc -lcomdlg32 -lgdi32
	upx --best --compress-icons=2 kitty.dll

../../kitty_ini.h: ../../kitty_ini.txt
	( printf 'char default_init_file_content[] = "' ; sed 's/\\/\\\\/g' ../../kitty_ini.txt | sed 's/$$/\\n\\/' ; printf '" ;\n' ) > ../../kitty_ini.h

../../kitty_help.h: ../../docs/pages/CommandLine.md
	( printf 'static char *default_help_file_content = "' ; sed -n '/CmdLineOptions_begin/,/CmdLineOptions_end/p' ../../docs/pages/CommandLine.md|sed 's/<!--.*-->//'|sed 's/\*\*//g'|sed 's/$$/\\r\\n\\/' ; printf '" ;\n' ) > ../../kitty_help.h

nohyperlink: putty_nohyperlink.exe

notrans: putty_notrans.exe

portable: putty_portable.exe

zmodem: putty_zmodem.exe

kitty: putty.exe
	mv putty.exe kitty.exe

cleanall: clean FORCE
	rm -f *.o *.exe *.res.o *.map *.dmp *.bak ../*.bak ../../*.bak kitty.log ../*.o kitty.dll

version:
	expr `cat version_minor.txt|tr -d '\r\n 	'` + 1 > version_minor.txt
	cat version_major.txt version_minor.txt|tr -d '\r\n 	'|sed 's/^.//'|sed 's/"/./' > version.txt
	v=`cat version_major.txt|tr -d '"\r\n 	'|sed 's/\.[0-9]*$$//'` ; printf '#define RELEASE '$${v}'\n#define TEXTVER "Release '$${v}'"\n#define SSHVER "-Release-'$${v}'"\n#define BINARY_VERSION '`cat version.txt|sed 's/\./,/g'`'\n#define SOURCE_COMMIT "unavailable"\n' > ../version.h
	cat version.txt

xml:
	cat ../../kitty.xml | sed 's/<Program_Version>.*<\/Program_Version>/<Program_Version>'`cat version.txt`'<\/Program_Version>/' | sed 	's/<Program_Release_Month>.*<\/Program_Release_Month>/<Program_Release_Month>'`date +"%m"`'<\/Program_Release_Month>/' | sed 	's/<Program_Release_Day>.*<\/Program_Release_Day>/<Program_Release_Day>'`date +"%d"`'<\/Program_Release_Day>/' | sed 's/<Program_Release_Year>.*<\/Program_Release_Year>/<Program_Release_Year>'`date +"%Y"`'<\/Program_Release_Year>/' | sed 's/<File_Size_Bytes>.*<\/File_Size_Bytes>/<File_Size_Bytes>'`ls -l putty.exe|awk '{print $5}'`'<\/File_Size_Bytes>/' > kitty.xml

putty_notrans.exe: agentf.o aqsync.o be_all_s.o be_misc.o callback.o cmdline.o \
		conf.o config.o cproxy.o dialog.o ecc-arithmetic.o errsock.o ldisc.o \
		ldiscucs.o logging.o mainchan.o marshal.o memory.o \
		bidi.o misc.o dup_mb_to_wc.o mpint.o nullplug.o pgssapi.o \
		pinger.o portfwd.o proxy.o putty.res.o raw.o rlogin.o \
		sercfg.o sessprep.o settings.o sizetip.o ssh.o bpp1.o \
		censor1.o connection1.o connection1-client.o \
		login1.o bpp2.o bpp-bare.o censor2.o \
		connection2.o connection2-client.o kex2-client.o \
		transient-hostkey-cache.o transport2.o userauth2-client.o aes.o \
		arcfour.o pubkey-ppk.o blowfish.o chacha20-poly1305.o common.o \
		crc32.o crc-attack-detector.o des.o diffie-hellman.o dsa.o ecc-ssh.o \
		gssc.o hmac.o mac.o md5.o prng.o sshpubk.o \
		sshrand.o rsa.o sha256.o sha512.o sha1.o sharing.o \
		verstring.o zlib.o stripctrl.o telnet.o terminal.o \
		timing.o tree234.o utils.o version.o wcwidth.o wildcard.o \
		cryptoapi.o wincfg.o controls.o defaults.o windlg.o \
		window_notrans.o \
		gss.o handle-io.o help.o handle-socket.o jump-list.o \
		network.o noise.o named-pipe-client.o named-pipe-server.o agent-client.o \
		printing.o winproxy.o winsecur.o winser.o winshare.o \
		winstore.o wintime.o winucs.o winutils.o winx11.o x11fwd.o \
		kitty_portable.o kitty_commun_portable.o kitty_crypt.o kitty_registry.o kitty_ssh.o kitty_tools.o kitty_win.o \
		urlhack.o pageant_integrated.o winpageant_integrated.o winputtygen_integrated.o \
		import.o rsag.o cryptodsa.o prime.o ecdsa.o bcrypt.o \
		void.o $(UTF8MOUSE_OBJS)
	$(CC) -mwindows $(LDFLAGS) -o $@ -Wl,-Map,putty.map agentf.o \
		aqsync.o be_all_s.o be_misc.o callback.o cmdline.o conf.o \
		config.o cproxy.o dialog.o ecc-arithmetic.o errsock.o ldisc.o \
		ldiscucs.o logging.o mainchan.o marshal.o memory.o \
		bidi.o misc.o dup_mb_to_wc.o mpint.o nullplug.o pgssapi.o \
		pinger.o portfwd.o proxy.o putty.res.o raw.o rlogin.o \
		sercfg.o sessprep.o settings.o sizetip.o ssh.o bpp1.o \
		censor1.o connection1.o connection1-client.o \
		login1.o bpp2.o bpp-bare.o censor2.o \
		connection2.o connection2-client.o kex2-client.o \
		transient-hostkey-cache.o transport2.o userauth2-client.o aes.o \
		arcfour.o pubkey-ppk.o blowfish.o chacha20-poly1305.o common.o \
		crc32.o crc-attack-detector.o des.o diffie-hellman.o dsa.o ecc-ssh.o \
		gssc.o hmac.o mac.o md5.o prng.o sshpubk.o \
		sshrand.o rsa.o sha256.o sha512.o sha1.o sharing.o \
		verstring.o zlib.o stripctrl.o telnet.o terminal.o \
		timing.o tree234.o utils.o version.o wcwidth.o wildcard.o \
		cryptoapi.o wincfg.o controls.o defaults.o windlg.o \
		window_notrans.o \
		gss.o handle-io.o help.o handle-socket.o jump-list.o \
		network.o noise.o named-pipe-client.o named-pipe-server.o agent-client.o \
		printing.o winproxy.o winsecur.o winser.o winshare.o \
		winstore.o wintime.o winucs.o winutils.o winx11.o x11fwd.o \
		kitty_portable.o kitty_commun_portable.o kitty_crypt.o kitty_registry.o kitty_ssh.o kitty_tools.o kitty_win.o \
		urlhack.o pageant_integrated.o winpageant_integrated.o winputtygen_integrated.o \
		import.o rsag.o cryptodsa.o prime.o ecdsa.o bcrypt.o \
		void.o $(UTF8MOUSE_OBJS) \
		../../base64/base64.a ../../bcrypt/bcrypt.a ../../blocnote/notepad.a ../../md5/MD5check.a ../../mini/mini.a \
		../../regex/libregex.a \
		-ladvapi32 -lcomdlg32 -lgdi32 -limm32 -lole32 -lshell32 \
		-luser32 \
		-lwsock32 -lpsapi

putty_portable.exe: agentf.o aqsync.o be_all_s.o be_misc.o callback.o cmdline.o \
		conf.o config.o cproxy.o dialog.o ecc-arithmetic.o errsock.o ldisc.o \
		logging.o mainchan.o marshal.o memory.o bidi.o misc.o \
		dup_mb_to_wc.o mpint.o nullplug.o pgssapi.o pinger.o portfwd.o \
		proxy.o putty.res.o raw.o rlogin.o sessprep.o settings.o \
		sizetip.o smallprimes.o ssh.o bpp1.o censor1.o connection1.o \
		connection1-client.o login1.o bpp2.o bpp-bare.o \
		censor2.o connection2.o connection2-client.o \
		kex2-client.o transient-hostkey-cache.o transport2.o \
		userauth2-client.o aes.o arcfour.o argon2.o pubkey-ppk.o \
		blake2.o blowfish.o chacha20-poly1305.o common.o crc32.o \
		crc-attack-detector.o des.o diffie-hellman.o dsa.o ecc-ssh.o gssc.o \
		hmac.o mac.o md5.o prng.o sshpubk.o sshrand.o \
		rsa.o sha256.o sha512.o sha1.o sha3.o sharing.o \
		sshutils.o verstring.o zlib.o stripctrl.o supdup.o \
		telnet.o terminal.o timing.o tree234.o utils.o version.o \
		wcwidth.o wildcard.o cryptoapi.o wincfg.o controls.o defaults.o \
		windlg.o \
		window_portable.o \
		gss.o handle-io.o help.o handle-socket.o \
		jump-list.o network.o noise.o named-pipe-client.o \
		named-pipe-server.o agent-client.o printing.o winproxy.o winsecur.o \
		winselgui.o winser.o winshare.o winstore.o wintime.o \
		winucs.o winutils.o winx11.o x11fwd.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o load_system32_dll.o open_for_write_would_lose_data.o platform_get_x_display.o winversion.o win_strerror.o \
		adb.o \
		cencode.o cdecode.o \
		kitty_portable.o kitty_commun_portable.o kitty_crypt.o kitty_image.o kitty_proxy.o kitty_registry.o kitty_ssh.o \
		kitty_store.o kitty_tools.o kitty_win.o \
		urlhack.o pageant_integrated.o winpageant_integrated.o winputtygen_integrated.o winpzmodem.o \
		import.o rsag.o cryptodsa.o prime.o ecdsa.o bcrypt.o pockle.o primecandidate.o millerrabin.o mpunsafe.o \
		void.o $(UTF8MOUSE_OBJS)
	$(CC) -mwindows $(LDFLAGS) -o $@ -Wl,-Map,putty.map agentf.o \
		aqsync.o be_all_s.o be_misc.o callback.o cmdline.o conf.o \
		config.o cproxy.o dialog.o ecc-arithmetic.o errsock.o ldisc.o logging.o \
		mainchan.o marshal.o memory.o bidi.o misc.o dup_mb_to_wc.o \
		mpint.o nullplug.o pgssapi.o pinger.o portfwd.o proxy.o \
		putty.res.o raw.o rlogin.o sessprep.o settings.o sizetip.o smallprimes.o \
		ssh.o bpp1.o censor1.o connection1.o \
		connection1-client.o login1.o bpp2.o bpp-bare.o \
		censor2.o connection2.o connection2-client.o \
		kex2-client.o transient-hostkey-cache.o transport2.o \
		userauth2-client.o aes.o arcfour.o argon2.o pubkey-ppk.o \
		blake2.o blowfish.o chacha20-poly1305.o common.o crc32.o \
		crc-attack-detector.o des.o diffie-hellman.o dsa.o ecc-ssh.o gssc.o \
		hmac.o mac.o md5.o prng.o sshpubk.o sshrand.o \
		rsa.o sha256.o sha512.o sha1.o sha3.o sharing.o \
		sshutils.o verstring.o zlib.o stripctrl.o supdup.o \
		telnet.o terminal.o timing.o tree234.o utils.o version.o \
		wcwidth.o wildcard.o cryptoapi.o wincfg.o controls.o defaults.o \
		windlg.o \
		window_portable.o \
		gss.o handle-io.o help.o handle-socket.o \
		jump-list.o network.o noise.o named-pipe-client.o \
		named-pipe-server.o agent-client.o printing.o winproxy.o winsecur.o \
		winselgui.o winser.o winshare.o winstore.o wintime.o \
		winucs.o winutils.o winx11.o x11fwd.o \
		dll_hijacking_protection.o escape_registry_key.o filename.o fontspec.o get_username.o load_system32_dll.o open_for_write_would_lose_data.o platform_get_x_display.o winversion.o win_strerror.o \
		adb.o \
		cencode.o cdecode.o \
		kitty_portable.o kitty_commun_portable.o kitty_crypt.o kitty_image.o kitty_proxy.o kitty_registry.o kitty_ssh.o \
		kitty_store.o kitty_tools.o kitty_win.o \
		urlhack.o pageant_integrated.o winpageant_integrated.o winputtygen_integrated.o winpzmodem.o \
		import.o rsag.o cryptodsa.o prime.o ecdsa.o bcrypt.o pockle.o primecandidate.o millerrabin.o mpunsafe.o \
		void.o $(UTF8MOUSE_OBJS) \
		../../base64/base64.a ../../bcrypt/bcrypt.a ../../blocnote/notepad.a ../../jpeg/libjpeg.a \
		../../md5/MD5check.a ../../mini/mini.a ../../regex/libregex.a \
		-ladvapi32 -lcomdlg32 -lgdi32 -limm32 -lpsapi -lole32 -lshell32 \
		-luser32 -lwsock32  -lwtsapi32
		# -lcomctl32 -lwinmm -lwinspool -lole32 -lcrypt32

.PHONY: clean 9bis

clean:
	rm -f *.o *.exe *.res.o *.so *.map

cross:
	sed -i 's#^typedef enum _WTS_VIRTUAL_CLASS #// typedef enum _WTS_VIRTUAL_CLASS #' window.c
	sed -i 's/0/999/' version_major.txt
	make -e TOOLPATH=/usr/bin/i686-w64-mingw32- -f MAKEFILE.MINGW putty.exe plink.exe pscp.exe psftp.exe pageant.exe puttygen.exe
	make -e TOOLPATH=/usr/bin/i686-w64-mingw32- -f MAKEFILE.MINGW portable
	cp putty.exe putty_nocompress.exe
	upx --best --compress-icons=2 --compress-exports=0 putty.exe putty_portable.exe
	mv putty.exe /builds/kitty.exe
	mv putty_portable.exe /builds/kitty_portable.exe
	mv putty_nocompress.exe /builds/kitty_nocompress.exe
	mv plink.exe /builds/klink.exe
	mv pscp.exe /builds/kscp.exe
	mv psftp.exe /builds/ksftp.exe
	mv pageant.exe /builds/kageant.exe
	mv puttygen.exe /builds/kittygen.exe
	rm *.o

cross64:
	sed -i 's#^typedef enum _WTS_VIRTUAL_CLASS #// typedef enum _WTS_VIRTUAL_CLASS #' window.c
	sed -i 's/0/999/' version_major.txt
	make -e TOOLPATH=/usr/bin/x86_64-w64-mingw32- -f MAKEFILE.MINGW putty.exe || /usr/bin/x86_64-w64-mingw32-gcc -o kitty64.exe *.o ../../base64/base64_64.a ../../bcrypt/bcrypt_64.a ../../blocnote/notepad_64.a ../../jpeg/libjpeg_64.a ../../md5/MD5check_64.a ../../mini/mini_64.a ../../regex/libregex_64.a -ladvapi32 -lcomdlg32 -lgdi32 -limm32 -lpsapi -lole32 -lshell32 -luser32 -lwsock32  -lwtsapi32 -mwindows
	cp kitty64.exe /builds/kitty64_nocompress.exe
	cp ../../mini/mini_64.a ../../mini/mini.a
	cp ../../bcrypt/bcrypt_64.a ../../bcrypt/bcrypt.a
	cp ../../base64/base64_64.a ../../base64/base64.a
	make -e TOOLPATH=/usr/bin/x86_64-w64-mingw32- -f MAKEFILE.MINGW plink.exe pscp.exe psftp.exe pageant.exe puttygen.exe
	upx --best --compress-icons=2 --compress-exports=0 kitty64.exe
	mv kitty64.exe /builds/kitty64.exe
	mv plink.exe /builds/klink64.exe
	mv pscp.exe /builds/kscp64.exe
	mv psftp.exe /builds/ksftp64.exe
	mv pageant.exe /builds/kageant64.exe
	mv puttygen.exe /builds/kittygen64.exe
	rm *.o

9bis: putty.exe putty_portable.exe plink.exe pscp.exe psftp.exe pageant.exe puttygen.exe

# AJOUTER
# -DMASTER_PASSWORD=`cat ../../masterpassword.txt` 			à la compilation de cmdline.o
# -DMASTER_PASSWORD=`cat ../../masterpassword.txt` 			à la compilation de settings.o
# -DMASTER_PASSWORD=`cat ../../masterpassword.txt` 			à la compilation de plink.o
# -DMASTER_PASSWORD=`cat ../../masterpassword.txt` 			à la compilation de winsftp.o
# 	-DBUILD_TIME=`date +'"%d/%m/%Y-%H:%M:%S(%Z)"'` \ 		à la compilation de window.o
#	-DBUILD_VERSION=`cat version_major.txt` \
#	-DBUILD_SUBVERSION=`cat version_minor.txt` \
#	-DMASTER_PASSWORD=`cat ../../masterpassword.txt` \
# -DMOD_INTEGRATED_AGENT 						à la compilation de putty.res.o
# -DMOD_INTEGRATED_AGENT 						à la compilation de window.o
# Ajouter winpageant_integrated.o						à la compilation de putty.exe
# Ajouter pageant_integrated.o						à la compilation de putty.exe
# Ajouter ../../blocnote/notepad.rc					à la compilation de putty.res.o
# Ajouter -DMOD_INTEGRATED_KEYGEN					à la compiltation de putty.res.o
# Ajouter -DMOD_INTEGRATED_KEYGEN					à la compiltation de window.o
# Ajouter winputtygen_integrated.o						à la compiltation de putty.exe
# Ajouter import.o rsag.o cryptodsa.o prime.o ecdsa.o bcrypt.o  à la compilation de putty.exe

# Pour putty_notrans.exe copier putty.exe et remplacer window.o par window_notrans.o
# Pour putty_portable.exe copier putty.exe et remplacer window.o, kitty.o, kitty_commun.o par window_portable.o, kitty_portable.o, kitty_commun_portable.o

################################################################################
# END MOD_PERSO
################################################################################

